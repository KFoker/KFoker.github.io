<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±è¯­å­¦ä¹ æ¤ç‰©å›­ - ä¼˜åŒ–ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #a8e6cf, #dcedc1);
            color: #556;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #ff6b6b;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px #fff;
        }

        .tagline {
            font-size: 1.2rem;
            color: #666;
        }

        .main-content {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .plant-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .learning-section {
            flex: 2;
            min-width: 500px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .plant-container {
            width: 250px;
            height: 350px;
            margin: 0 auto;
            position: relative;
        }

        .pot {
            width: 120px;
            height: 80px;
            background: #ff9a76;
            border-radius: 10px 10px 0 0;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }

        .plant {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            transition: all 0.5s ease;
        }

        .stem {
            width: 15px;
            height: 0;
            background: #a8e6cf;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            transition: height 1s ease;
            border-radius: 5px;
        }

        .leaf {
            width: 40px;
            height: 30px;
            background: #7bcfa8;
            border-radius: 50%;
            position: absolute;
            z-index: 2;
        }

        .flower {
            width: 60px;
            height: 60px;
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 3;
        }

        .petal {
            width: 30px;
            height: 30px;
            background: #ff9a76;
            border-radius: 50%;
            position: absolute;
        }

        .petal:nth-child(1) { top: 0; left: 15px; }
        .petal:nth-child(2) { top: 15px; left: 0; }
        .petal:nth-child(3) { top: 15px; right: 0; }
        .petal:nth-child(4) { bottom: 0; left: 15px; }
        .petal.center {
            width: 20px;
            height: 20px;
            background: #ffd93d;
            top: 20px;
            left: 20px;
        }

        .face {
            width: 40px;
            height: 40px;
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 4;
        }

        .eye {
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
            position: absolute;
        }

        .eye.left { left: 10px; top: 15px; }
        .eye.right { right: 10px; top: 15px; }

        .mouth {
            width: 20px;
            height: 10px;
            border-bottom: 3px solid #333;
            border-radius: 0 0 10px 10px;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .resources {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .resource {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 10px;
            min-width: 80px;
        }

        .resource-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .resource-value {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .progress-bars {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .progress-bar {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .water-fill { background: #4fc3f7; }
        .sunlight-fill { background: #ffd93d; }
        .fertilizer-fill { background: #aed581; }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            flex: 1;
        }

        .primary-btn {
            background: #ff9a76;
            color: white;
        }

        .primary-btn:hover {
            background: #ff7b4a;
            transform: translateY(-2px);
        }

        .word-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .english-word {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 10px;
        }

        .phonetic {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 15px;
        }

        .translation {
            font-size: 1.5rem;
            color: #ff6b6b;
            margin-bottom: 20px;
            display: none; /* åˆå§‹éšè— */
        }

        .example {
            font-style: italic;
            color: #666;
            margin-bottom: 20px;
            display: none; /* åˆå§‹éšè— */
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .option {
            padding: 15px;
            background: #f0f0f0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
        }

        .option:hover {
            background: #e0e0e0;
        }

        .option.correct {
            background: #a8e6cf;
            color: #2e7d32;
        }

        .option.incorrect {
            background: #ffab91;
            color: #c62828;
        }

        .learning-controls {
            display: flex;
            gap: 10px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .shop-items {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .shop-item {
            min-width: 120px;
            background: white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .shop-item:hover {
            transform: translateY(-5px);
        }

        .shop-item-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .shop-item-price {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 10px 0;
        }

        .price-tag {
            display: flex;
            align-items: center;
            gap: 3px;
            font-size: 0.9rem;
        }

        .unlocked {
            background: #a8e6cf;
            color: #2e7d32;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .reward-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #a8e6cf;
            color: #2e7d32;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 100;
        }

        .reward-notification.show {
            transform: translateX(0);
        }

        .decoration {
            position: absolute;
            z-index: 5;
        }

        .hat {
            width: 60px;
            height: 30px;
            background: #ff6b6b;
            border-radius: 50% 50% 0 0;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
        }

        .glasses {
            width: 70px;
            height: 20px;
            background: #333;
            border-radius: 10px;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .bow {
            width: 40px;
            height: 20px;
            background: #ff9a76;
            border-radius: 10px;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .plant-selection {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .selection-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            text-align: center;
        }

        .selection-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #ff6b6b;
        }

        .plant-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .plant-option {
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            background: #f0f0f0;
        }

        .plant-option:hover {
            transform: scale(1.05);
            background: #e0e0e0;
        }

        .plant-option.selected {
            background: #a8e6cf;
            box-shadow: 0 0 0 3px #ff6b6b;
        }

        .plant-preview {
            width: 100px;
            height: 150px;
            margin: 0 auto 10px;
            position: relative;
        }

        .plant-name {
            font-weight: bold;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .plant-section, .learning-section {
                min-width: auto;
            }

            .options {
                grid-template-columns: 1fr;
            }

            .plant-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .bounce {
            animation: bounce 0.5s ease;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        .wiggle {
            animation: wiggle 0.5s ease;
        }

        .reveal-btn {
            background: #4fc3f7;
            color: white;
            margin-top: 10px;
        }

        .reveal-btn:hover {
            background: #29b6f6;
        }
    </style>
</head>
<body>
    <div class="plant-selection" id="plantSelection">
        <div class="selection-container">
            <h2 class="selection-title">é€‰æ‹©ä½ çš„æ¤ç‰©ä¼™ä¼´ï¼</h2>
            <p>ä»ä¸‹é¢é€‰æ‹©ä¸€ä¸ªå¯çˆ±çš„æ¤ç‰©ä¼™ä¼´ï¼Œå®ƒå°†é™ªä¼´ä½ å­¦ä¹ è‹±è¯­ï¼</p>
            <div class="plant-options">
                <div class="plant-option" data-plant="cactus">
                    <div class="plant-preview">
                        <div style="width: 60px; height: 100px; background: #7bcfa8; border-radius: 10px; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 80px; height: 20px; background: #7bcfa8; border-radius: 50%; position: absolute; bottom: 100px; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 40px; height: 40px; background: #ff9a76; border-radius: 50%; position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%);"></div>
                    </div>
                    <div class="plant-name">ä»™äººæŒå®å®</div>
                </div>
                <div class="plant-option" data-plant="sunflower">
                    <div class="plant-preview">
                        <div style="width: 15px; height: 100px; background: #a8e6cf; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 80px; height: 80px; background: #ffd93d; border-radius: 50%; position: absolute; bottom: 100px; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 60px; height: 60px; background: #ff9a76; border-radius: 50%; position: absolute; bottom: 110px; left: 50%; transform: translateX(-50%);"></div>
                    </div>
                    <div class="plant-name">å‘æ—¥è‘µå°å­</div>
                </div>
                <div class="plant-option" data-plant="rose">
                    <div class="plant-preview">
                        <div style="width: 10px; height: 120px; background: #a8e6cf; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 50px; height: 50px; background: #ff6b6b; border-radius: 50%; position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 30px; height: 30px; background: #ffd93d; border-radius: 50%; position: absolute; bottom: 135px; left: 50%; transform: translateX(-50%);"></div>
                    </div>
                    <div class="plant-name">ç«ç‘°å°ç”œå¿ƒ</div>
                </div>
                <div class="plant-option" data-plant="fern">
                    <div class="plant-preview">
                        <div style="width: 15px; height: 80px; background: #a8e6cf; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 100px; height: 20px; background: #7bcfa8; border-radius: 50%; position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 80px; height: 20px; background: #7bcfa8; border-radius: 50%; position: absolute; bottom: 100px; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 60px; height: 20px; background: #7bcfa8; border-radius: 50%; position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%);"></div>
                    </div>
                    <div class="plant-name">è•¨ç±»å°ç²¾çµ</div>
                </div>
                <div class="plant-option" data-plant="succulent">
                    <div class="plant-preview">
                        <div style="width: 100px; height: 60px; background: #7bcfa8; border-radius: 50%; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 80px; height: 40px; background: #a8e6cf; border-radius: 50%; position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 20px; height: 20px; background: #ff9a76; border-radius: 50%; position: absolute; bottom: 70px; left: 50%; transform: translateX(-50%);"></div>
                    </div>
                    <div class="plant-name">å¤šè‚‰å°èƒ–</div>
                </div>
                <div class="plant-option" data-plant="lily">
                    <div class="plant-preview">
                        <div style="width: 10px; height: 100px; background: #a8e6cf; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                        <div style="width: 60px; height: 60px; background: white; border-radius: 50%; position: absolute; bottom: 100px; left: 50%; transform: translateX(-50%); border: 3px solid #ff9a76;"></div>
                        <div style="width: 30px; height: 30px; background: #ffd93d; border-radius: 50%; position: absolute; bottom: 115px; left: 50%; transform: translateX(-50%);"></div>
                    </div>
                    <div class="plant-name">ç™¾åˆå°å¤©ä½¿</div>
                </div>
            </div>
            <button class="primary-btn" id="confirmPlantBtn" style="padding: 15px 30px; font-size: 1.2rem;">ç¡®è®¤é€‰æ‹©</button>
        </div>
    </div>

    <div class="container" id="mainContainer" style="display: none;">
        <header>
            <h1>è‹±è¯­å­¦ä¹ æ¤ç‰©å›­ ğŸŒ±</h1>
            <p class="tagline">å­¦ä¹ è€ƒç ”è‹±è¯­ï¼Œå…»è‚²å¯çˆ±æ¤ç‰©å® ç‰©ï¼</p>
        </header>

        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="wordsLearned">0</div>
                <div class="stat-label">å·²å­¦å•è¯</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="plantLevel">1</div>
                <div class="stat-label">æ¤ç‰©ç­‰çº§</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="streakDays">1</div>
                <div class="stat-label">è¿ç»­å­¦ä¹ </div>
            </div>
            <div class="stat">
                <div class="stat-value" id="totalXP">0</div>
                <div class="stat-label">æ€»ç»éªŒå€¼</div>
            </div>
        </div>

        <div class="main-content">
            <div class="plant-section">
                <h2><i class="fas fa-seedling"></i> æˆ‘çš„æ¤ç‰©å® ç‰©</h2>

                <div class="plant-container">
                    <div class="pot"></div>
                    <div class="plant">
                        <div class="stem" id="plantStem"></div>
                        <!-- å¶å­å’ŒèŠ±æœµå°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                        <div class="face" id="plantFace">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="mouth" id="plantMouth"></div>
                        </div>
                    </div>
                </div>

                <div class="resources">
                    <div class="resource">
                        <div class="resource-icon">ğŸ’§</div>
                        <div class="resource-value" id="waterCount">10</div>
                        <div>æ°´åˆ†</div>
                    </div>
                    <div class="resource">
                        <div class="resource-icon">â˜€ï¸</div>
                        <div class="resource-value" id="sunlightCount">10</div>
                        <div>é˜³å…‰</div>
                    </div>
                    <div class="resource">
                        <div class="resource-icon">ğŸŒ±</div>
                        <div class="resource-value" id="fertilizerCount">10</div>
                        <div>è‚¥æ–™</div>
                    </div>
                </div>

                <div class="progress-bars">
                    <div class="progress-label">
                        <span>æ°´åˆ†</span>
                        <span id="waterPercent">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill water-fill" id="waterBar" style="width: 100%"></div>
                    </div>

                    <div class="progress-label">
                        <span>é˜³å…‰</span>
                        <span id="sunlightPercent">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill sunlight-fill" id="sunlightBar" style="width: 100%"></div>
                    </div>

                    <div class="progress-label">
                        <span>å…»åˆ†</span>
                        <span id="fertilizerPercent">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill fertilizer-fill" id="fertilizerBar" style="width: 100%"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="primary-btn" id="waterBtn">æµ‡æ°´ ğŸ’§</button>
                    <button class="primary-btn" id="sunlightBtn">æ™’å¤ªé˜³ â˜€ï¸</button>
                    <button class="primary-btn" id="fertilizeBtn">æ–½è‚¥ ğŸŒ±</button>
                </div>
            </div>

            <div class="learning-section">
                <h2><i class="fas fa-book"></i> è€ƒç ”è‹±è¯­å­¦ä¹ </h2>

                <div class="word-card">
                    <div class="english-word" id="currentWord">abandon</div>
                    <div class="phonetic" id="currentPhonetic">/É™ËˆbÃ¦ndÉ™n/</div>
                    <div class="translation" id="currentTranslation">v. æ”¾å¼ƒï¼ŒæŠ›å¼ƒ</div>
                    <div class="example" id="currentExample">He decided to abandon his studies and travel the world.</div>
                    <button class="reveal-btn" id="revealBtn">æ˜¾ç¤ºç­”æ¡ˆ</button>
                </div>

                <div class="options" id="optionsContainer">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                </div>

                <div class="learning-controls">
                    <button class="primary-btn" id="hintBtn">æç¤º ğŸ’¡</button>
                    <button class="primary-btn" id="nextBtn">ä¸‹ä¸€ä¸ªå•è¯ â¡ï¸</button>
                </div>

                <h3 style="margin-top: 20px;"><i class="fas fa-store"></i> æ¤ç‰©è£…é¥°å•†åº—</h3>
                <div class="shop-items" id="shopItems">
                    <!-- å•†åº—ç‰©å“å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                </div>
            </div>
        </div>

        <div class="reward-notification" id="rewardNotification">
            <!-- å¥–åŠ±é€šçŸ¥å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
        </div>
    </div>

    <script>
        // è€ƒç ”è‹±è¯­æ ¸å¿ƒè¯æ±‡åº“ï¼ˆéƒ¨åˆ†ç¤ºä¾‹ï¼‰
        const wordBank = [
            { word: "abandon", phonetic: "/É™ËˆbÃ¦ndÉ™n/", translation: "v. æ”¾å¼ƒï¼ŒæŠ›å¼ƒ", example: "He decided to abandon his studies and travel the world.", correctOption: "æ”¾å¼ƒ" },
            { word: "abdomen", phonetic: "/ËˆÃ¦bdÉ™mÉ™n/", translation: "n. è…¹éƒ¨", example: "The doctor examined his abdomen for any signs of swelling.", correctOption: "è…¹éƒ¨" },
            { word: "abide", phonetic: "/É™ËˆbaÉªd/", translation: "v. éµå®ˆï¼Œå¿å—", example: "We must abide by the rules of the competition.", correctOption: "éµå®ˆ" },
            { word: "abnormal", phonetic: "/Ã¦bËˆnÉ”Ërml/", translation: "adj. å¼‚å¸¸çš„", example: "The test results showed abnormal levels of cholesterol.", correctOption: "å¼‚å¸¸çš„" },
            { word: "abolish", phonetic: "/É™ËˆbÉ‘ËlÉªÊƒ/", translation: "v. åºŸé™¤ï¼Œå–æ¶ˆ", example: "The government decided to abolish the outdated law.", correctOption: "åºŸé™¤" },
            { word: "abortion", phonetic: "/É™ËˆbÉ”ËrÊƒn/", translation: "n. æµäº§ï¼Œå •èƒ", example: "The debate on abortion rights continues in many countries.", correctOption: "æµäº§" },
            { word: "abroad", phonetic: "/É™ËˆbrÉ”Ëd/", translation: "adv. åœ¨å›½å¤–", example: "She plans to study abroad next semester.", correctOption: "åœ¨å›½å¤–" },
            { word: "abrupt", phonetic: "/É™ËˆbrÊŒpt/", translation: "adj. çªç„¶çš„ï¼Œå”çªçš„", example: "The meeting came to an abrupt end when the fire alarm sounded.", correctOption: "çªç„¶çš„" },
            { word: "absence", phonetic: "/ËˆÃ¦bsÉ™ns/", translation: "n. ç¼ºå¸­ï¼Œç¼ºä¹", example: "His absence from the meeting was noted by everyone.", correctOption: "ç¼ºå¸­" },
            { word: "absolute", phonetic: "/ËˆÃ¦bsÉ™luËt/", translation: "adj. ç»å¯¹çš„ï¼Œå®Œå…¨çš„", example: "I have absolute confidence in her abilities.", correctOption: "ç»å¯¹çš„" },
            { word: "absorb", phonetic: "/É™bËˆzÉ”Ërb/", translation: "v. å¸æ”¶ï¼Œå¸å¼•", example: "The sponge can absorb a large amount of water.", correctOption: "å¸æ”¶" },
            { word: "abstract", phonetic: "/ËˆÃ¦bstrÃ¦kt/", translation: "adj. æŠ½è±¡çš„ n. æ‘˜è¦", example: "The concept of love is too abstract for a child to understand.", correctOption: "æŠ½è±¡çš„" },
            { word: "absurd", phonetic: "/É™bËˆsÉœËrd/", translation: "adj. è’è°¬çš„", example: "It's absurd to think that cats can fly.", correctOption: "è’è°¬çš„" },
            { word: "abundance", phonetic: "/É™ËˆbÊŒndÉ™ns/", translation: "n. ä¸°å¯Œï¼Œå……è£•", example: "The region has an abundance of natural resources.", correctOption: "ä¸°å¯Œ" },
            { word: "academy", phonetic: "/É™ËˆkÃ¦dÉ™mi/", translation: "n. å­¦é™¢ï¼Œç ”ç©¶é™¢", example: "He was accepted into the military academy.", correctOption: "å­¦é™¢" },
            { word: "accelerate", phonetic: "/É™kËˆselÉ™reÉªt/", translation: "v. åŠ é€Ÿï¼Œä¿ƒè¿›", example: "The car can accelerate from 0 to 60 mph in just 6 seconds.", correctOption: "åŠ é€Ÿ" },
            { word: "accent", phonetic: "/ËˆÃ¦ksent/", translation: "n. å£éŸ³ï¼Œé‡éŸ³", example: "She has a slight French accent when she speaks English.", correctOption: "å£éŸ³" },
            { word: "access", phonetic: "/ËˆÃ¦kses/", translation: "n. é€šé“ï¼Œä½¿ç”¨æƒ v. è®¿é—®", example: "The building has wheelchair access.", correctOption: "è®¿é—®" },
            { word: "accommodate", phonetic: "/É™ËˆkÉ‘ËmÉ™deÉªt/", translation: "v. å®¹çº³ï¼Œæä¾›ä½å®¿", example: "The hotel can accommodate up to 200 guests.", correctOption: "å®¹çº³" },
            { word: "accompany", phonetic: "/É™ËˆkÊŒmpÉ™ni/", translation: "v. é™ªä¼´ï¼Œä¼´å¥", example: "Will you accompany me to the party?", correctOption: "é™ªä¼´" },
            // å¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šè€ƒç ”è¯æ±‡...
        ];

        // åº”ç”¨çŠ¶æ€å’Œæ•°æ®
        const appState = {
            // èµ„æºæ•°é‡
            resources: {
                water: 10,
                sunlight: 10,
                fertilizer: 10
            },

            // æ¤ç‰©çŠ¶æ€
            plant: {
                level: 1,
                xp: 0,
                water: 100,
                sunlight: 100,
                fertilizer: 100,
                growthStage: 1, // 1-5: ç§å­åˆ°å¼€èŠ±
                decorations: [], // å·²è§£é”çš„è£…é¥°
                happiness: 100, // æ¤ç‰©å¹¸ç¦åº¦
                type: "cactus" // é»˜è®¤æ¤ç‰©ç±»å‹
            },

            // å­¦ä¹ æ•°æ®
            learning: {
                wordsLearned: 0,
                streakDays: 1,
                totalXP: 0,
                currentWordIndex: 0,
                answerRevealed: false // ç­”æ¡ˆæ˜¯å¦å·²æ˜¾ç¤º
            },

            // å•†åº—ç‰©å“
            shopItems: [
                { id: 1, name: "å°è‰å¸½", type: "hat", price: { water: 5, sunlight: 5 }, icon: "ğŸ‘’" },
                { id: 2, name: "å°çœ¼é•œ", type: "glasses", price: { water: 8, sunlight: 8 }, icon: "ğŸ‘“" },
                { id: 3, name: "è´è¶ç»“", type: "bow", price: { water: 10, sunlight: 10, fertilizer: 5 }, icon: "ğŸ€" },
                { id: 4, name: "å°å›´å·¾", type: "scarf", price: { water: 7, sunlight: 7, fertilizer: 7 }, icon: "ğŸ§£" },
                { id: 5, name: "å°å¾½ç« ", type: "badge", price: { water: 12, sunlight: 12 }, icon: "ğŸ“›" }
            ]
        };

        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®æ¤ç‰©é€‰æ‹©äº‹ä»¶
            setupPlantSelection();

            // è®¾ç½®æŒ‰é’®äº‹ä»¶
            document.getElementById('waterBtn').addEventListener('click', waterPlant);
            document.getElementById('sunlightBtn').addEventListener('click', sunlightPlant);
            document.getElementById('fertilizeBtn').addEventListener('click', fertilizePlant);
            document.getElementById('nextBtn').addEventListener('click', nextWord);
            document.getElementById('hintBtn').addEventListener('click', showHint);
            document.getElementById('revealBtn').addEventListener('click', revealAnswer);
        });

        // è®¾ç½®æ¤ç‰©é€‰æ‹©
        function setupPlantSelection() {
            const plantOptions = document.querySelectorAll('.plant-option');
            let selectedPlant = null;

            plantOptions.forEach(option => {
                option.addEventListener('click', function() {
                    plantOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedPlant = this.getAttribute('data-plant');
                });
            });

            document.getElementById('confirmPlantBtn').addEventListener('click', function() {
                if (selectedPlant) {
                    appState.plant.type = selectedPlant;
                    document.getElementById('plantSelection').style.display = 'none';
                    document.getElementById('mainContainer').style.display = 'block';

                    // åˆå§‹åŒ–åº”ç”¨
                    initApp();
                } else {
                    showRewardNotification("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæ¤ç‰©ä¼™ä¼´ï¼", "error");
                }
            });
        }

        // åˆå§‹åŒ–åº”ç”¨
        function initApp() {
            // åˆå§‹åŒ–æ¤ç‰©
            updatePlantDisplay();
            updateResourceDisplay();
            updateStatsDisplay();

            // åŠ è½½å­¦ä¹ å†…å®¹
            loadWord();
            setupShop();

            // è®¾ç½®èµ„æºæ¶ˆè€—å®šæ—¶å™¨
            setInterval(consumeResources, 30000); // æ¯30ç§’æ¶ˆè€—ä¸€æ¬¡èµ„æº

            // è®¾ç½®æ¤ç‰©ç”Ÿé•¿æ£€æŸ¥
            setInterval(checkPlantGrowth, 60000); // æ¯1åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ¤ç‰©ç”Ÿé•¿

            // è®¾ç½®æ¤ç‰©è¡¨æƒ…å˜åŒ–
            setInterval(updatePlantMood, 10000); // æ¯10ç§’æ›´æ–°ä¸€æ¬¡æ¤ç‰©è¡¨æƒ…
        }

        // æ›´æ–°æ¤ç‰©æ˜¾ç¤º
        function updatePlantDisplay() {
            const plant = appState.plant;
            const stem = document.getElementById('plantStem');
            const flower = document.querySelector('.flower');
            const face = document.getElementById('plantFace');

            // æ ¹æ®æ¤ç‰©ç±»å‹è®¾ç½®ä¸åŒçš„å¤–è§‚
            updatePlantAppearance();

            // æ ¹æ®æˆé•¿é˜¶æ®µè®¾ç½®èŒçš„é«˜åº¦
            let stemHeight = 0;
            if (plant.growthStage >= 2) stemHeight = 80;
            if (plant.growthStage >= 3) stemHeight = 120;
            if (plant.growthStage >= 4) stemHeight = 160;
            if (plant.growthStage >= 5) stemHeight = 200;

            if (stem) stem.style.height = `${stemHeight}px`;

            // æ·»åŠ å¶å­ï¼ˆæ ¹æ®æˆé•¿é˜¶æ®µï¼‰
            const plantContainer = document.querySelector('.plant');
            // æ¸…é™¤ç°æœ‰å¶å­ï¼ˆé™¤äº†è£…é¥°å“ï¼‰
            document.querySelectorAll('.leaf').forEach(leaf => leaf.remove());

            if (plant.growthStage >= 2) {
                // æ·»åŠ å¶å­
                for (let i = 0; i < plant.growthStage * 2; i++) {
                    const leaf = document.createElement('div');
                    leaf.className = 'leaf';
                    leaf.style.left = `${50 + (i % 2 === 0 ? -1 : 1) * 30}px`;
                    leaf.style.top = `${-i * 20}px`;
                    plantContainer.appendChild(leaf);
                }

                // æ·»åŠ èŠ±æœµï¼ˆå¦‚æœè¾¾åˆ°å¼€èŠ±é˜¶æ®µï¼‰
                if (plant.growthStage >= 5 && !document.querySelector('.flower')) {
                    const flower = document.createElement('div');
                    flower.className = 'flower';
                    flower.innerHTML = `
                        <div class="petal"></div>
                        <div class="petal"></div>
                        <div class="petal"></div>
                        <div class="petal"></div>
                        <div class="petal center"></div>
                    `;
                    plantContainer.appendChild(flower);
                }

                // æ˜¾ç¤ºæˆ–éšè—èŠ±æœµ
                if (plant.growthStage >= 5) {
                    if (flower) flower.style.opacity = '1';
                } else {
                    if (flower) flower.style.opacity = '0';
                }
            }

            // æ·»åŠ è£…é¥°å“
            document.querySelectorAll('.decoration').forEach(decoration => decoration.remove());

            plant.decorations.forEach(decoration => {
                const decorElement = document.createElement('div');
                decorElement.className = `decoration ${decoration}`;
                document.querySelector('.plant').appendChild(decorElement);
            });

            // æ›´æ–°æ¤ç‰©ç­‰çº§æ˜¾ç¤º
            document.getElementById('plantLevel').textContent = plant.growthStage;

            // æ›´æ–°è¿›åº¦æ¡
            document.getElementById('waterBar').style.width = `${plant.water}%`;
            document.getElementById('sunlightBar').style.width = `${plant.sunlight}%`;
            document.getElementById('fertilizerBar').style.width = `${plant.fertilizer}%`;

            document.getElementById('waterPercent').textContent = `${Math.round(plant.water)}%`;
            document.getElementById('sunlightPercent').textContent = `${Math.round(plant.sunlight)}%`;
            document.getElementById('fertilizerPercent').textContent = `${Math.round(plant.fertilizer)}%`;

            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            if (plant.water > 70 && plant.sunlight > 70 && plant.fertilizer > 70) {
                plantContainer.classList.add('bounce');
                setTimeout(() => {
                    plantContainer.classList.remove('bounce');
                }, 500);
            }
        }

        // æ ¹æ®æ¤ç‰©ç±»å‹æ›´æ–°å¤–è§‚
        function updatePlantAppearance() {
            const plant = appState.plant;
            const stem = document.getElementById('plantStem');
            const leaves = document.querySelectorAll('.leaf');

            // æ ¹æ®æ¤ç‰©ç±»å‹è®¾ç½®ä¸åŒçš„é¢œè‰²å’Œå½¢çŠ¶
            switch(plant.type) {
                case "cactus":
                    stem.style.background = "#7bcfa8";
                    stem.style.borderRadius = "10px";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#7bcfa8";
                        leaf.style.borderRadius = "10px";
                    });
                    break;
                case "sunflower":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#a8e6cf";
                    });
                    break;
                case "rose":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#a8e6cf";
                    });
                    break;
                case "fern":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#7bcfa8";
                    });
                    break;
                case "succulent":
                    stem.style.background = "#7bcfa8";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#7bcfa8";
                        leaf.style.borderRadius = "10px";
                    });
                    break;
                case "lily":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#a8e6cf";
                    });
                    break;
            }
        }

        // æ›´æ–°æ¤ç‰©è¡¨æƒ…
        function updatePlantMood() {
            const plant = appState.plant;
            const mouth = document.getElementById('plantMouth');

            if (plant.water < 30 || plant.sunlight < 30 || plant.fertilizer < 30) {
                // ä¸å¼€å¿ƒ
                mouth.style.borderBottom = '3px solid #333';
                mouth.style.borderRadius = '10px 10px 0 0';
            } else if (plant.water > 70 && plant.sunlight > 70 && plant.fertilizer > 70) {
                // å¾ˆå¼€å¿ƒ
                mouth.style.borderBottom = '3px solid #333';
                mouth.style.borderRadius = '0 0 10px 10px';
            } else {
                // ä¸­æ€§
                mouth.style.borderBottom = '3px solid #333';
                mouth.style.borderRadius = '0 0 10px 10px';
            }
        }

        // æ›´æ–°èµ„æºæ˜¾ç¤º
        function updateResourceDisplay() {
            document.getElementById('waterCount').textContent = appState.resources.water;
            document.getElementById('sunlightCount').textContent = appState.resources.sunlight;
            document.getElementById('fertilizerCount').textContent = appState.resources.fertilizer;
        }

        // æ›´æ–°ç»Ÿè®¡æ˜¾ç¤º
        function updateStatsDisplay() {
            document.getElementById('wordsLearned').textContent = appState.learning.wordsLearned;
            document.getElementById('plantLevel').textContent = appState.plant.growthStage;
            document.getElementById('streakDays').textContent = appState.learning.streakDays;
            document.getElementById('totalXP').textContent = appState.learning.totalXP;
        }

        // åŠ è½½å•è¯
        function loadWord() {
            const wordData = wordBank[appState.learning.currentWordIndex];

            document.getElementById('currentWord').textContent = wordData.word;
            document.getElementById('currentPhonetic').textContent = wordData.phonetic;
            document.getElementById('currentTranslation').textContent = wordData.translation;
            document.getElementById('currentExample').textContent = wordData.example;

            // éšè—ç¿»è¯‘å’Œä¾‹å¥
            document.getElementById('currentTranslation').style.display = 'none';
            document.getElementById('currentExample').style.display = 'none';
            document.getElementById('revealBtn').style.display = 'block';

            // é‡ç½®ç­”æ¡ˆæ˜¾ç¤ºçŠ¶æ€
            appState.learning.answerRevealed = false;

            // åˆ›å»ºé€‰é¡¹
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            // ç”Ÿæˆå¹²æ‰°é€‰é¡¹
            const options = generateOptions(wordData.correctOption);

            options.forEach(option => {
                const optionButton = document.createElement('button');
                optionButton.className = 'option';
                optionButton.textContent = option;
                optionButton.addEventListener('click', function() {
                    checkAnswer(option, wordData.correctOption);
                });
                optionsContainer.appendChild(optionButton);
            });
        }

        // ç”Ÿæˆé€‰é¡¹ï¼ˆåŒ…å«æ­£ç¡®ç­”æ¡ˆå’Œå¹²æ‰°é¡¹ï¼‰
        function generateOptions(correctOption) {
            // ä»è¯åº“ä¸­éšæœºé€‰æ‹©3ä¸ªä¸åŒçš„å¹²æ‰°é¡¹
            const distractors = [];
            const usedIndices = new Set();

            while (distractors.length < 3) {
                const randomIndex = Math.floor(Math.random() * wordBank.length);
                if (!usedIndices.has(randomIndex) && wordBank[randomIndex].correctOption !== correctOption) {
                    distractors.push(wordBank[randomIndex].correctOption);
                    usedIndices.add(randomIndex);
                }
            }

            // åˆå¹¶æ­£ç¡®ç­”æ¡ˆå’Œå¹²æ‰°é¡¹ï¼Œç„¶åéšæœºæ’åº
            const allOptions = [correctOption, ...distractors];
            return allOptions.sort(() => Math.random() - 0.5);
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selected, correct) {
            const options = document.querySelectorAll('.option');
            let correctOption = null;

            options.forEach(option => {
                option.disabled = true;
                if (option.textContent === correct) {
                    correctOption = option;
                    option.classList.add('correct');
                } else if (option.textContent === selected && selected !== correct) {
                    option.classList.add('incorrect');
                }
            });

            if (selected === correct) {
                // å›ç­”æ­£ç¡®ï¼Œè·å¾—å¥–åŠ±
                appState.learning.wordsLearned++;
                appState.learning.totalXP += 10;
                appState.resources.water += 2;
                appState.resources.sunlight += 2;
                appState.resources.fertilizer += 1;

                // æ¤ç‰©å¼€å¿ƒåŠ¨ç”»
                document.querySelector('.plant').classList.add('wiggle');
                setTimeout(() => {
                    document.querySelector('.plant').classList.remove('wiggle');
                }, 500);

                showRewardNotification("å›ç­”æ­£ç¡®ï¼è·å¾—èµ„æºå¥–åŠ±ï¼", "success");
                updateResourceDisplay();
                updateStatsDisplay();

                // æ˜¾ç¤ºç¿»è¯‘å’Œä¾‹å¥
                document.getElementById('currentTranslation').style.display = 'block';
                document.getElementById('currentExample').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';
            } else {
                showRewardNotification(`å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯: ${correct}`, "error");
                if (correctOption) {
                    correctOption.classList.add('correct');
                }

                // æ˜¾ç¤ºç¿»è¯‘å’Œä¾‹å¥
                document.getElementById('currentTranslation').style.display = 'block';
                document.getElementById('currentExample').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';
            }
        }

        // æ˜¾ç¤ºæç¤º
        function showHint() {
            const wordData = wordBank[appState.learning.currentWordIndex];
            showRewardNotification(`æç¤º: å•è¯å«ä¹‰ä¸"${wordData.translation.split(' ')[0]}"ç›¸å…³`, "info");
        }

        // æ˜¾ç¤ºç­”æ¡ˆ
        function revealAnswer() {
            if (!appState.learning.answerRevealed) {
                document.getElementById('currentTranslation').style.display = 'block';
                document.getElementById('currentExample').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';
                appState.learning.answerRevealed = true;
            }
        }

        // ä¸‹ä¸€ä¸ªå•è¯
        function nextWord() {
            appState.learning.currentWordIndex = (appState.learning.currentWordIndex + 1) % wordBank.length;
            loadWord();
        }

        // æµ‡æ°´
        function waterPlant() {
            if (appState.resources.water > 0) {
                appState.resources.water--;
                appState.plant.water = Math.min(100, appState.plant.water + 20);
                updatePlantDisplay();
                updateResourceDisplay();
                showRewardNotification("æ¤ç‰©å–é¥±äº†æ°´ï¼", "success");
            } else {
                showRewardNotification("æ°´åˆ†ä¸è¶³ï¼Œå­¦ä¹ æ›´å¤šå•è¯æ¥è·å–ï¼", "error");
            }
        }

        // æ™’å¤ªé˜³
        function sunlightPlant() {
            if (appState.resources.sunlight > 0) {
                appState.resources.sunlight--;
                appState.plant.sunlight = Math.min(100, appState.plant.sunlight + 20);
                updatePlantDisplay();
                updateResourceDisplay();
                showRewardNotification("æ¤ç‰©äº«å—äº†é˜³å…‰ï¼", "success");
            } else {
                showRewardNotification("é˜³å…‰ä¸è¶³ï¼Œå­¦ä¹ æ›´å¤šå•è¯æ¥è·å–ï¼", "error");
            }
        }

        // æ–½è‚¥
        function fertilizePlant() {
            if (appState.resources.fertilizer > 0) {
                appState.resources.fertilizer--;
                appState.plant.fertilizer = Math.min(100, appState.plant.fertilizer + 20);
                updatePlantDisplay();
                updateResourceDisplay();
                showRewardNotification("æ¤ç‰©è·å¾—äº†è¥å…»ï¼", "success");
            } else {
                showRewardNotification("è‚¥æ–™ä¸è¶³ï¼Œå­¦ä¹ æ›´å¤šå•è¯æ¥è·å–ï¼", "error");
            }
        }

        // æ¶ˆè€—èµ„æºï¼ˆéšæ—¶é—´å‡å°‘æ¤ç‰©çŠ¶æ€ï¼‰
        function consumeResources() {
            appState.plant.water = Math.max(0, appState.plant.water - 5);
            appState.plant.sunlight = Math.max(0, appState.plant.sunlight - 3);
            appState.plant.fertilizer = Math.max(0, appState.plant.fertilizer - 2);

            updatePlantDisplay();

            // å¦‚æœèµ„æºè¿‡ä½ï¼Œæ˜¾ç¤ºè­¦å‘Š
            if (appState.plant.water < 20) {
                showRewardNotification("æ¤ç‰©éœ€è¦æµ‡æ°´ï¼", "warning");
            } else if (appState.plant.sunlight < 20) {
                showRewardNotification("æ¤ç‰©éœ€è¦é˜³å…‰ï¼", "warning");
            } else if (appState.plant.fertilizer < 20) {
                showRewardNotification("æ¤ç‰©éœ€è¦è‚¥æ–™ï¼", "warning");
            }
        }

        // æ£€æŸ¥æ¤ç‰©ç”Ÿé•¿
        function checkPlantGrowth() {
            const plant = appState.plant;

            // å¦‚æœæ‰€æœ‰èµ„æºéƒ½å……è¶³ï¼Œæ¤ç‰©å¯èƒ½å‡çº§
            if (plant.water > 70 && plant.sunlight > 70 && plant.fertilizer > 70) {
                // æœ‰20%çš„å‡ ç‡å‡çº§
                if (Math.random() < 0.2 && plant.growthStage < 5) {
                    plant.growthStage++;
                    showRewardNotification(`æ­å–œï¼æ¤ç‰©å‡çº§åˆ°ç¬¬${plant.growthStage}é˜¶æ®µï¼`, "success");
                    updatePlantDisplay();
                    updateStatsDisplay();
                }
            }

            // å¦‚æœèµ„æºä¸¥é‡ä¸è¶³ï¼Œæ¤ç‰©å¯èƒ½é™çº§
            if ((plant.water < 10 || plant.sunlight < 10 || plant.fertilizer < 10) && plant.growthStage > 1) {
                // æœ‰10%çš„å‡ ç‡é™çº§
                if (Math.random() < 0.1) {
                    plant.growthStage--;
                    showRewardNotification(`è­¦å‘Šï¼æ¤ç‰©é™çº§åˆ°ç¬¬${plant.growthStage}é˜¶æ®µï¼`, "error");
                    updatePlantDisplay();
                    updateStatsDisplay();
                }
            }
        }

        // è®¾ç½®å•†åº—
        function setupShop() {
            const shopItemsContainer = document.getElementById('shopItems');
            shopItemsContainer.innerHTML = '';

            appState.shopItems.forEach(item => {
                const shopItem = document.createElement('div');
                shopItem.className = 'shop-item';
                shopItem.innerHTML = `
                    <div class="shop-item-icon">${item.icon}</div>
                    <div class="shop-item-name">${item.name}</div>
                    <div class="shop-item-price">
                        ${Object.entries(item.price).map(([resource, amount]) =>
                            `<div class="price-tag">${getResourceEmoji(resource)} ${amount}</div>`
                        ).join('')}
                    </div>
                    <div class="unlocked">${appState.plant.decorations.includes(item.type) ? 'å·²æ‹¥æœ‰' : 'è´­ä¹°'}</div>
                `;

                if (!appState.plant.decorations.includes(item.type)) {
                    shopItem.addEventListener('click', () => purchaseItem(item));
                }

                shopItemsContainer.appendChild(shopItem);
            });
        }

        // è·å–èµ„æºè¡¨æƒ…
        function getResourceEmoji(resource) {
            switch(resource) {
                case 'water': return 'ğŸ’§';
                case 'sunlight': return 'â˜€ï¸';
                case 'fertilizer': return 'ğŸŒ±';
                default: return '';
            }
        }

        // è´­ä¹°ç‰©å“
        function purchaseItem(item) {
            // æ£€æŸ¥èµ„æºæ˜¯å¦è¶³å¤Ÿ
            let canAfford = true;
            for (const [resource, amount] of Object.entries(item.price)) {
                if (appState.resources[resource] < amount) {
                    canAfford = false;
                    break;
                }
            }

            if (canAfford) {
                // æ‰£é™¤èµ„æº
                for (const [resource, amount] of Object.entries(item.price)) {
                    appState.resources[resource] -= amount;
                }

                // æ·»åŠ è£…é¥°
                appState.plant.decorations.push(item.type);

                // æ›´æ–°æ˜¾ç¤º
                updateResourceDisplay();
                updatePlantDisplay();
                setupShop();

                showRewardNotification(`æˆåŠŸè´­ä¹°${item.name}ï¼`, "success");
            } else {
                showRewardNotification("èµ„æºä¸è¶³ï¼Œæ— æ³•è´­ä¹°ï¼", "error");
            }
        }

        // æ˜¾ç¤ºå¥–åŠ±é€šçŸ¥
        function showRewardNotification(message, type) {
            const notification = document.getElementById('rewardNotification');
            notification.textContent = message;

            // è®¾ç½®é€šçŸ¥æ ·å¼
            notification.className = 'reward-notification';
            if (type === 'success') {
                notification.style.background = '#a8e6cf';
                notification.style.color = '#2e7d32';
            } else if (type === 'error') {
                notification.style.background = '#ffab91';
                notification.style.color = '#c62828';
            } else if (type === 'warning') {
                notification.style.background = '#ffd93d';
                notification.style.color = '#f57c00';
            } else {
                notification.style.background = '#4fc3f7';
                notification.style.color = '#01579b';
            }

            notification.classList.add('show');

            // 3ç§’åéšè—é€šçŸ¥
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
