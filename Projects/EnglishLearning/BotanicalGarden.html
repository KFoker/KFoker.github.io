<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ëã±ËØ≠Â≠¶‰π†Ê§çÁâ©Âõ≠ - Âç°ÈÄöÁâà</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #a8e6cf, #dcedc1);
            color: #556;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #ff6b6b;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px #fff;
        }

        .tagline {
            font-size: 1.2rem;
            color: #666;
        }

        .main-content {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .plant-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .learning-section {
            flex: 2;
            min-width: 500px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .plant-container {
            width: 250px;
            height: 350px;
            margin: 0 auto;
            position: relative;
        }

        .pot {
            width: 120px;
            height: 80px;
            background: #ff9a76;
            border-radius: 10px 10px 0 0;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }

        .plant {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            transition: all 0.5s ease;
        }

        .stem {
            width: 15px;
            height: 0;
            background: #a8e6cf;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            transition: height 1s ease;
            border-radius: 5px;
        }

        .leaf {
            width: 40px;
            height: 30px;
            background: #7bcfa8;
            border-radius: 50%;
            position: absolute;
            z-index: 2;
        }

        .flower {
            width: 60px;
            height: 60px;
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 3;
        }

        .petal {
            width: 30px;
            height: 30px;
            background: #ff9a76;
            border-radius: 50%;
            position: absolute;
        }

        .petal:nth-child(1) { top: 0; left: 15px; }
        .petal:nth-child(2) { top: 15px; left: 0; }
        .petal:nth-child(3) { top: 15px; right: 0; }
        .petal:nth-child(4) { bottom: 0; left: 15px; }
        .petal.center {
            width: 20px;
            height: 20px;
            background: #ffd93d;
            top: 20px;
            left: 20px;
        }

        .face {
            width: 40px;
            height: 40px;
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 4;
        }

        .eye {
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
            position: absolute;
        }

        .eye.left { left: 10px; top: 15px; }
        .eye.right { right: 10px; top: 15px; }

        .mouth {
            width: 20px;
            height: 10px;
            border-bottom: 3px solid #333;
            border-radius: 0 0 10px 10px;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .resources {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .resource {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 10px;
            min-width: 80px;
        }

        .resource-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .resource-value {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .progress-bars {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .progress-bar {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .water-fill { background: #4fc3f7; }
        .sunlight-fill { background: #ffd93d; }
        .fertilizer-fill { background: #aed581; }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            flex: 1;
        }

        .primary-btn {
            background: #ff9a76;
            color: white;
        }

        .primary-btn:hover {
            background: #ff7b4a;
            transform: translateY(-2px);
        }

        .word-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .english-word {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 10px;
        }

        .phonetic {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 15px;
        }

        .translation {
            font-size: 1.5rem;
            color: #ff6b6b;
            margin-bottom: 20px;
            display: none; /* ÂàùÂßãÈöêËóè */
        }

        .example {
            font-style: italic;
            color: #666;
            margin-bottom: 20px;
            display: none; /* ÂàùÂßãÈöêËóè */
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .option {
            padding: 15px;
            background: #f0f0f0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
        }

        .option:hover {
            background: #e0e0e0;
        }

        .option.correct {
            background: #a8e6cf;
            color: #2e7d32;
        }

        .option.incorrect {
            background: #ffab91;
            color: #c62828;
        }

        .learning-controls {
            display: flex;
            gap: 10px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .shop-items {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .shop-item {
            min-width: 120px;
            background: white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .shop-item:hover {
            transform: translateY(-5px);
        }

        .shop-item-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .shop-item-price {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 10px 0;
        }

        .price-tag {
            display: flex;
            align-items: center;
            gap: 3px;
            font-size: 0.9rem;
        }

        .unlocked {
            background: #a8e6cf;
            color: #2e7d32;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .reward-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #a8e6cf;
            color: #2e7d32;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 100;
        }

        .reward-notification.show {
            transform: translateX(0);
        }

        .decoration {
            position: absolute;
            z-index: 5;
        }

        .hat {
            width: 60px;
            height: 30px;
            background: #ff6b6b;
            border-radius: 50% 50% 0 0;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
        }

        .glasses {
            width: 70px;
            height: 20px;
            background: #333;
            border-radius: 10px;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .bow {
            width: 40px;
            height: 20px;
            background: #ff9a76;
            border-radius: 10px;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .plant-selection {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .selection-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            text-align: center;
        }

        .selection-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #ff6b6b;
        }

        .plant-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .plant-option {
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            background: #f0f0f0;
        }

        .plant-option:hover {
            transform: scale(1.05);
            background: #e0e0e0;
        }

        .plant-option.selected {
            background: #a8e6cf;
            box-shadow: 0 0 0 3px #ff6b6b;
        }

        .plant-preview {
            width: 100px;
            height: 150px;
            margin: 0 auto 10px;
            position: relative;
        }

        .plant-name {
            font-weight: bold;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .plant-section, .learning-section {
                min-width: auto;
            }

            .options {
                grid-template-columns: 1fr;
            }

            .plant-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .bounce {
            animation: bounce 0.5s ease;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        .wiggle {
            animation: wiggle 0.5s ease;
        }

        .reveal-btn {
            background: #4fc3f7;
            color: white;
            margin-top: 10px;
        }

        .reveal-btn:hover {
            background: #29b6f6;
        }

        /* Âç°ÈÄöÊ§çÁâ©Ê†∑Âºè */
        .cartoon-plant {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            transition: all 0.5s ease;
        }

        .cartoon-stem {
            width: 15px;
            height: 0;
            background: #a8e6cf;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            transition: height 1s ease;
            border-radius: 5px;
        }

        .cartoon-leaf {
            width: 40px;
            height: 30px;
            background: #7bcfa8;
            border-radius: 50%;
            position: absolute;
            z-index: 2;
        }

        .cartoon-face {
            width: 50px;
            height: 50px;
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 4;
        }

        .cartoon-eye {
            width: 10px;
            height: 10px;
            background: #333;
            border-radius: 50%;
            position: absolute;
            animation: blink 4s infinite;
        }

        .cartoon-eye.left { left: 10px; top: 15px; }
        .cartoon-eye.right { right: 10px; top: 15px; }

        .cartoon-mouth {
            width: 25px;
            height: 15px;
            border-bottom: 3px solid #333;
            border-radius: 0 0 10px 10px;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            transition: all 0.3s ease;
        }

        .happy .cartoon-mouth {
            border-radius: 0 0 10px 10px;
            border-bottom: 3px solid #333;
        }

        .sad .cartoon-mouth {
            border-radius: 10px 10px 0 0;
            border-top: 3px solid #333;
            border-bottom: none;
        }

        .excited .cartoon-mouth {
            border-radius: 50%;
            width: 20px;
            height: 20px;
            background: #333;
            border: none;
        }

        @keyframes blink {
            0%, 90%, 100% { height: 10px; }
            95% { height: 2px; }
        }

        @keyframes sway {
            0%, 100% { transform: translateX(-50%) rotate(-2deg); }
            50% { transform: translateX(-50%) rotate(2deg); }
        }

        .sway {
            animation: sway 3s ease-in-out infinite;
        }

        .blush {
            width: 8px;
            height: 4px;
            background: rgba(255, 150, 150, 0.6);
            border-radius: 50%;
            position: absolute;
            top: 20px;
        }

        .blush.left { left: 5px; }
        .blush.right { right: 5px; }
    </style>
</head>
<body>
    <div class="plant-selection" id="plantSelection">
        <div class="selection-container">
            <h2 class="selection-title">ÈÄâÊã©‰Ω†ÁöÑÊ§çÁâ©‰ºô‰º¥ÔºÅ</h2>
            <p>‰ªé‰∏ãÈù¢ÈÄâÊã©‰∏Ä‰∏™ÂèØÁà±ÁöÑÊ§çÁâ©‰ºô‰º¥ÔºåÂÆÉÂ∞ÜÈô™‰º¥‰Ω†Â≠¶‰π†Ëã±ËØ≠ÔºÅ</p>
            <div class="plant-options">
                <div class="plant-option" data-plant="cactus">
                    <div class="plant-preview">
                        <div class="cartoon-plant">
                            <div class="cartoon-stem" style="height: 100px; background: #7bcfa8;"></div>
                            <div class="cartoon-leaf" style="left: -20px; top: -20px;"></div>
                            <div class="cartoon-leaf" style="right: -20px; top: -40px;"></div>
                            <div class="cartoon-face">
                                <div class="cartoon-eye left"></div>
                                <div class="cartoon-eye right"></div>
                                <div class="cartoon-mouth"></div>
                                <div class="blush left"></div>
                                <div class="blush right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="plant-name">‰ªô‰∫∫ÊéåÂÆùÂÆù</div>
                </div>
                <div class="plant-option" data-plant="sunflower">
                    <div class="plant-preview">
                        <div class="cartoon-plant">
                            <div class="cartoon-stem" style="height: 120px; background: #a8e6cf;"></div>
                            <div class="cartoon-leaf" style="left: -25px; top: -30px;"></div>
                            <div class="cartoon-leaf" style="right: -25px; top: -50px;"></div>
                            <div class="cartoon-face">
                                <div class="cartoon-eye left"></div>
                                <div class="cartoon-eye right"></div>
                                <div class="cartoon-mouth"></div>
                                <div class="blush left"></div>
                                <div class="blush right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="plant-name">ÂêëÊó•ËëµÂ∞èÂ≠ê</div>
                </div>
                <div class="plant-option" data-plant="rose">
                    <div class="plant-preview">
                        <div class="cartoon-plant">
                            <div class="cartoon-stem" style="height: 140px; background: #a8e6cf;"></div>
                            <div class="cartoon-leaf" style="left: -15px; top: -40px;"></div>
                            <div class="cartoon-leaf" style="right: -15px; top: -60px;"></div>
                            <div class="cartoon-face">
                                <div class="cartoon-eye left"></div>
                                <div class="cartoon-eye right"></div>
                                <div class="cartoon-mouth"></div>
                                <div class="blush left"></div>
                                <div class="blush right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="plant-name">Áé´Áë∞Â∞èÁîúÂøÉ</div>
                </div>
                <div class="plant-option" data-plant="fern">
                    <div class="plant-preview">
                        <div class="cartoon-plant">
                            <div class="cartoon-stem" style="height: 100px; background: #a8e6cf;"></div>
                            <div class="cartoon-leaf" style="left: -30px; top: -20px; width: 60px; height: 20px;"></div>
                            <div class="cartoon-leaf" style="right: -30px; top: -40px; width: 60px; height: 20px;"></div>
                            <div class="cartoon-leaf" style="left: -20px; top: -60px; width: 40px; height: 15px;"></div>
                            <div class="cartoon-face">
                                <div class="cartoon-eye left"></div>
                                <div class="cartoon-eye right"></div>
                                <div class="cartoon-mouth"></div>
                                <div class="blush left"></div>
                                <div class="blush right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="plant-name">Ëï®Á±ªÂ∞èÁ≤æÁÅµ</div>
                </div>
                <div class="plant-option" data-plant="succulent">
                    <div class="plant-preview">
                        <div class="cartoon-plant">
                            <div style="width: 80px; height: 60px; background: #7bcfa8; border-radius: 50%; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
                            <div style="width: 60px; height: 40px; background: #a8e6cf; border-radius: 50%; position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);"></div>
                            <div class="cartoon-face" style="top: -20px;">
                                <div class="cartoon-eye left"></div>
                                <div class="cartoon-eye right"></div>
                                <div class="cartoon-mouth"></div>
                                <div class="blush left"></div>
                                <div class="blush right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="plant-name">Â§öËÇâÂ∞èËÉñ</div>
                </div>
                <div class="plant-option" data-plant="lily">
                    <div class="plant-preview">
                        <div class="cartoon-plant">
                            <div class="cartoon-stem" style="height: 120px; background: #a8e6cf;"></div>
                            <div class="cartoon-leaf" style="left: -20px; top: -30px; width: 60px; height: 25px;"></div>
                            <div class="cartoon-leaf" style="right: -20px; top: -50px; width: 60px; height: 25px;"></div>
                            <div class="cartoon-face">
                                <div class="cartoon-eye left"></div>
                                <div class="cartoon-eye right"></div>
                                <div class="cartoon-mouth"></div>
                                <div class="blush left"></div>
                                <div class="blush right"></div>
                            </div>
                        </div>
                    </div>
                    <div class="plant-name">ÁôæÂêàÂ∞èÂ§©‰Ωø</div>
                </div>
            </div>
            <button class="primary-btn" id="confirmPlantBtn" style="padding: 15px 30px; font-size: 1.2rem;">Á°ÆËÆ§ÈÄâÊã©</button>
        </div>
    </div>

    <div class="container" id="mainContainer" style="display: none;">
        <header>
            <h1>Ëã±ËØ≠Â≠¶‰π†Ê§çÁâ©Âõ≠ üå±</h1>
            <p class="tagline">Â≠¶‰π†ËÄÉÁ†îËã±ËØ≠ÔºåÂÖªËÇ≤ÂèØÁà±Ê§çÁâ©ÂÆ†Áâ©ÔºÅ</p>
        </header>

        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="wordsLearned">0</div>
                <div class="stat-label">Â∑≤Â≠¶ÂçïËØç</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="plantLevel">1</div>
                <div class="stat-label">Ê§çÁâ©Á≠âÁ∫ß</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="streakDays">1</div>
                <div class="stat-label">ËøûÁª≠Â≠¶‰π†</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="totalXP">0</div>
                <div class="stat-label">ÊÄªÁªèÈ™åÂÄº</div>
            </div>
        </div>

        <div class="main-content">
            <div class="plant-section">
                <h2><i class="fas fa-seedling"></i> ÊàëÁöÑÊ§çÁâ©ÂÆ†Áâ©</h2>

                <div class="plant-container">
                    <div class="pot"></div>
                    <div id="plantDisplay">
                        <!-- Ê§çÁâ©Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊ∑ªÂä† -->
                    </div>
                </div>

                <div class="resources">
                    <div class="resource">
                        <div class="resource-icon">üíß</div>
                        <div class="resource-value" id="waterCount">10</div>
                        <div>Ê∞¥ÂàÜ</div>
                    </div>
                    <div class="resource">
                        <div class="resource-icon">‚òÄÔ∏è</div>
                        <div class="resource-value" id="sunlightCount">10</div>
                        <div>Èò≥ÂÖâ</div>
                    </div>
                    <div class="resource">
                        <div class="resource-icon">üå±</div>
                        <div class="resource-value" id="fertilizerCount">10</div>
                        <div>ËÇ•Êñô</div>
                    </div>
                </div>

                <div class="progress-bars">
                    <div class="progress-label">
                        <span>Ê∞¥ÂàÜ</span>
                        <span id="waterPercent">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill water-fill" id="waterBar" style="width: 100%"></div>
                    </div>

                    <div class="progress-label">
                        <span>Èò≥ÂÖâ</span>
                        <span id="sunlightPercent">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill sunlight-fill" id="sunlightBar" style="width: 100%"></div>
                    </div>

                    <div class="progress-label">
                        <span>ÂÖªÂàÜ</span>
                        <span id="fertilizerPercent">100%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill fertilizer-fill" id="fertilizerBar" style="width: 100%"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="primary-btn" id="waterBtn">ÊµáÊ∞¥ üíß</button>
                    <button class="primary-btn" id="sunlightBtn">ÊôíÂ§™Èò≥ ‚òÄÔ∏è</button>
                    <button class="primary-btn" id="fertilizeBtn">ÊñΩËÇ• üå±</button>
                </div>
            </div>

            <div class="learning-section">
                <h2><i class="fas fa-book"></i> ËÄÉÁ†îËã±ËØ≠Â≠¶‰π†</h2>

                <div class="word-card">
                    <div class="english-word" id="currentWord">abandon</div>
                    <div class="phonetic" id="currentPhonetic">/…ôÀàb√¶nd…ôn/</div>
                    <div class="translation" id="currentTranslation">v. ÊîæÂºÉÔºåÊäõÂºÉ</div>
                    <div class="example" id="currentExample">He decided to abandon his studies and travel the world.</div>
                    <button class="reveal-btn" id="revealBtn">ÊòæÁ§∫Á≠îÊ°à</button>
                </div>

                <div class="options" id="optionsContainer">
                    <!-- ÈÄâÈ°πÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊ∑ªÂä† -->
                </div>

                <div class="learning-controls">
                    <button class="primary-btn" id="hintBtn">ÊèêÁ§∫ üí°</button>
                    <button class="primary-btn" id="nextBtn">‰∏ã‰∏Ä‰∏™ÂçïËØç ‚û°Ô∏è</button>
                </div>

                <h3 style="margin-top: 20px;"><i class="fas fa-store"></i> Ê§çÁâ©Ë£ÖÈ•∞ÂïÜÂ∫ó</h3>
                <div class="shop-items" id="shopItems">
                    <!-- ÂïÜÂ∫óÁâ©ÂìÅÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊ∑ªÂä† -->
                </div>
            </div>
        </div>

        <div class="reward-notification" id="rewardNotification">
            <!-- Â•ñÂä±ÈÄöÁü•ÂÜÖÂÆπÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊ∑ªÂä† -->
        </div>
    </div>

    <script>
        // ËÄÉÁ†îËã±ËØ≠Ê†∏ÂøÉËØçÊ±áÂ∫ìÔºàÈÉ®ÂàÜÁ§∫‰æãÔºâ
        const wordBank = [
            { word: "abandon", phonetic: "/…ôÀàb√¶nd…ôn/", translation: "v. ÊîæÂºÉÔºåÊäõÂºÉ", example: "He decided to abandon his studies and travel the world.", correctOption: "ÊîæÂºÉ" },
            { word: "abdomen", phonetic: "/Àà√¶bd…ôm…ôn/", translation: "n. ËÖπÈÉ®", example: "The doctor examined his abdomen for any signs of swelling.", correctOption: "ËÖπÈÉ®" },
            { word: "abide", phonetic: "/…ôÀàba…™d/", translation: "v. ÈÅµÂÆàÔºåÂøçÂèó", example: "We must abide by the rules of the competition.", correctOption: "ÈÅµÂÆà" },
            { word: "abnormal", phonetic: "/√¶bÀàn…îÀêrml/", translation: "adj. ÂºÇÂ∏∏ÁöÑ", example: "The test results showed abnormal levels of cholesterol.", correctOption: "ÂºÇÂ∏∏ÁöÑ" },
            { word: "abolish", phonetic: "/…ôÀàb…ëÀêl…™ É/", translation: "v. Â∫üÈô§ÔºåÂèñÊ∂à", example: "The government decided to abolish the outdated law.", correctOption: "Â∫üÈô§" },
            { word: "abortion", phonetic: "/…ôÀàb…îÀêr Én/", translation: "n. ÊµÅ‰∫ßÔºåÂ†ïËÉé", example: "The debate on abortion rights continues in many countries.", correctOption: "ÊµÅ‰∫ß" },
            { word: "abroad", phonetic: "/…ôÀàbr…îÀêd/", translation: "adv. Âú®ÂõΩÂ§ñ", example: "She plans to study abroad next semester.", correctOption: "Âú®ÂõΩÂ§ñ" },
            { word: "abrupt", phonetic: "/…ôÀàbr åpt/", translation: "adj. Á™ÅÁÑ∂ÁöÑÔºåÂîêÁ™ÅÁöÑ", example: "The meeting came to an abrupt end when the fire alarm sounded.", correctOption: "Á™ÅÁÑ∂ÁöÑ" },
            { word: "absence", phonetic: "/Àà√¶bs…ôns/", translation: "n. Áº∫Â∏≠ÔºåÁº∫‰πè", example: "His absence from the meeting was noted by everyone.", correctOption: "Áº∫Â∏≠" },
            { word: "absolute", phonetic: "/Àà√¶bs…ôluÀêt/", translation: "adj. ÁªùÂØπÁöÑÔºåÂÆåÂÖ®ÁöÑ", example: "I have absolute confidence in her abilities.", correctOption: "ÁªùÂØπÁöÑ" },
            { word: "absorb", phonetic: "/…ôbÀàz…îÀêrb/", translation: "v. Âê∏Êî∂ÔºåÂê∏Âºï", example: "The sponge can absorb a large amount of water.", correctOption: "Âê∏Êî∂" },
            { word: "abstract", phonetic: "/Àà√¶bstr√¶kt/", translation: "adj. ÊäΩË±°ÁöÑ n. ÊëòË¶Å", example: "The concept of love is too abstract for a child to understand.", correctOption: "ÊäΩË±°ÁöÑ" },
            { word: "absurd", phonetic: "/…ôbÀàs…úÀêrd/", translation: "adj. ËçíË∞¨ÁöÑ", example: "It's absurd to think that cats can fly.", correctOption: "ËçíË∞¨ÁöÑ" },
            { word: "abundance", phonetic: "/…ôÀàb ånd…ôns/", translation: "n. ‰∏∞ÂØåÔºåÂÖÖË£ï", example: "The region has an abundance of natural resources.", correctOption: "‰∏∞ÂØå" },
            { word: "academy", phonetic: "/…ôÀàk√¶d…ômi/", translation: "n. Â≠¶Èô¢ÔºåÁ†îÁ©∂Èô¢", example: "He was accepted into the military academy.", correctOption: "Â≠¶Èô¢" },
            { word: "accelerate", phonetic: "/…ôkÀàsel…ôre…™t/", translation: "v. Âä†ÈÄüÔºå‰øÉËøõ", example: "The car can accelerate from 0 to 60 mph in just 6 seconds.", correctOption: "Âä†ÈÄü" },
            { word: "accent", phonetic: "/Àà√¶ksent/", translation: "n. Âè£Èü≥ÔºåÈáçÈü≥", example: "She has a slight French accent when she speaks English.", correctOption: "Âè£Èü≥" },
            { word: "access", phonetic: "/Àà√¶kses/", translation: "n. ÈÄöÈÅìÔºå‰ΩøÁî®ÊùÉ v. ËÆøÈóÆ", example: "The building has wheelchair access.", correctOption: "ËÆøÈóÆ" },
            { word: "accommodate", phonetic: "/…ôÀàk…ëÀêm…ôde…™t/", translation: "v. ÂÆπÁ∫≥ÔºåÊèê‰æõ‰ΩèÂÆø", example: "The hotel can accommodate up to 200 guests.", correctOption: "ÂÆπÁ∫≥" },
            { word: "accompany", phonetic: "/…ôÀàk åmp…ôni/", translation: "v. Èô™‰º¥Ôºå‰º¥Â•è", example: "Will you accompany me to the party?", correctOption: "Èô™‰º¥" },
            // ÂèØ‰ª•ÁªßÁª≠Ê∑ªÂä†Êõ¥Â§öËÄÉÁ†îËØçÊ±á...
        ];

        // Â∫îÁî®Áä∂ÊÄÅÂíåÊï∞ÊçÆ
        let appState = {
            // ËµÑÊ∫êÊï∞Èáè
            resources: {
                water: 10,
                sunlight: 10,
                fertilizer: 10
            },

            // Ê§çÁâ©Áä∂ÊÄÅ
            plant: {
                level: 1,
                xp: 0,
                water: 100,
                sunlight: 100,
                fertilizer: 100,
                growthStage: 1, // 1-5: ÁßçÂ≠êÂà∞ÂºÄËä±
                decorations: [], // Â∑≤Ëß£ÈîÅÁöÑË£ÖÈ•∞
                happiness: 100, // Ê§çÁâ©Âπ∏Á¶èÂ∫¶
                type: "", // Ê§çÁâ©Á±ªÂûãÔºåÂàùÂßã‰∏∫Á©∫
                mood: "happy" // Ê§çÁâ©ÂøÉÊÉÖ
            },

            // Â≠¶‰π†Êï∞ÊçÆ
            learning: {
                wordsLearned: 0,
                streakDays: 1,
                totalXP: 0,
                currentWordIndex: 0,
                answerRevealed: false, // Á≠îÊ°àÊòØÂê¶Â∑≤ÊòæÁ§∫
                lastStudyDate: new Date().toDateString() // ÊúÄÂêéÂ≠¶‰π†Êó•Êúü
            },

            // ÂïÜÂ∫óÁâ©ÂìÅ
            shopItems: [
                { id: 1, name: "Â∞èËçâÂ∏Ω", type: "hat", price: { water: 5, sunlight: 5 }, icon: "üëí" },
                { id: 2, name: "Â∞èÁúºÈïú", type: "glasses", price: { water: 8, sunlight: 8 }, icon: "üëì" },
                { id: 3, name: "Ëù¥Ëù∂Áªì", type: "bow", price: { water: 10, sunlight: 10, fertilizer: 5 }, icon: "üéÄ" },
                { id: 4, name: "Â∞èÂõ¥Â∑æ", type: "scarf", price: { water: 7, sunlight: 7, fertilizer: 7 }, icon: "üß£" },
                { id: 5, name: "Â∞èÂæΩÁ´†", type: "badge", price: { water: 12, sunlight: 12 }, icon: "üìõ" }
            ]
        };

        // ÂàùÂßãÂåñÂ∫îÁî®
        document.addEventListener('DOMContentLoaded', function() {
            // Â∞ùËØï‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÊï∞ÊçÆ
            loadData();

            // ËÆæÁΩÆÊ§çÁâ©ÈÄâÊã©‰∫ã‰ª∂
            setupPlantSelection();

            // ËÆæÁΩÆÊåâÈíÆ‰∫ã‰ª∂
            document.getElementById('waterBtn').addEventListener('click', waterPlant);
            document.getElementById('sunlightBtn').addEventListener('click', sunlightPlant);
            document.getElementById('fertilizeBtn').addEventListener('click', fertilizePlant);
            document.getElementById('nextBtn').addEventListener('click', nextWord);
            document.getElementById('hintBtn').addEventListener('click', showHint);
            document.getElementById('revealBtn').addEventListener('click', revealAnswer);

            // Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁªèÈÄâÊã©‰∫ÜÊ§çÁâ©
            if (appState.plant.type) {
                document.getElementById('plantSelection').style.display = 'none';
                document.getElementById('mainContainer').style.display = 'block';
                initApp();
            } else {
                document.getElementById('plantSelection').style.display = 'flex';
                document.getElementById('mainContainer').style.display = 'none';
            }
        });

        // ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÊï∞ÊçÆ
        function loadData() {
            const savedData = localStorage.getItem('englishPlantGarden');
            if (savedData) {
                try {
                    const parsedData = JSON.parse(savedData);
                    appState = { ...appState, ...parsedData };

                    // Ê£ÄÊü•ËøûÁª≠Â≠¶‰π†Â§©Êï∞
                    checkStreakDays();
                } catch (e) {
                    console.error('Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:', e);
                }
            }
        }

        // ‰øùÂ≠òÊï∞ÊçÆÂà∞Êú¨Âú∞Â≠òÂÇ®
        function saveData() {
            try {
                localStorage.setItem('englishPlantGarden', JSON.stringify(appState));
            } catch (e) {
                console.error('‰øùÂ≠òÊï∞ÊçÆÂ§±Ë¥•:', e);
            }
        }

        // Ê£ÄÊü•ËøûÁª≠Â≠¶‰π†Â§©Êï∞
        function checkStreakDays() {
            const today = new Date().toDateString();
            const lastStudyDate = appState.learning.lastStudyDate;

            if (today !== lastStudyDate) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                const yesterdayStr = yesterday.toDateString();

                if (lastStudyDate === yesterdayStr) {
                    // ËøûÁª≠Â≠¶‰π†
                    appState.learning.streakDays++;
                } else {
                    // ‰∏≠Êñ≠Â≠¶‰π†ÔºåÈáçÁΩÆËøûÁª≠Â§©Êï∞
                    appState.learning.streakDays = 1;
                }

                appState.learning.lastStudyDate = today;
                saveData();
            }
        }

        // ËÆæÁΩÆÊ§çÁâ©ÈÄâÊã©
        function setupPlantSelection() {
            const plantOptions = document.querySelectorAll('.plant-option');
            let selectedPlant = null;

            plantOptions.forEach(option => {
                option.addEventListener('click', function() {
                    plantOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedPlant = this.getAttribute('data-plant');
                });
            });

            document.getElementById('confirmPlantBtn').addEventListener('click', function() {
                if (selectedPlant) {
                    appState.plant.type = selectedPlant;
                    document.getElementById('plantSelection').style.display = 'none';
                    document.getElementById('mainContainer').style.display = 'block';

                    // ‰øùÂ≠òÈÄâÊã©
                    saveData();

                    // ÂàùÂßãÂåñÂ∫îÁî®
                    initApp();
                } else {
                    showRewardNotification("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™Ê§çÁâ©‰ºô‰º¥ÔºÅ", "error");
                }
            });
        }

        // ÂàùÂßãÂåñÂ∫îÁî®
        function initApp() {
            // ÂàùÂßãÂåñÊ§çÁâ©
            updatePlantDisplay();
            updateResourceDisplay();
            updateStatsDisplay();

            // Âä†ËΩΩÂ≠¶‰π†ÂÜÖÂÆπ
            loadWord();
            setupShop();

            // ËÆæÁΩÆËµÑÊ∫êÊ∂àËÄóÂÆöÊó∂Âô®
            setInterval(consumeResources, 30000); // ÊØè30ÁßíÊ∂àËÄó‰∏ÄÊ¨°ËµÑÊ∫ê

            // ËÆæÁΩÆÊ§çÁâ©ÁîüÈïøÊ£ÄÊü•
            setInterval(checkPlantGrowth, 60000); // ÊØè1ÂàÜÈíüÊ£ÄÊü•‰∏ÄÊ¨°Ê§çÁâ©ÁîüÈïø

            // ËÆæÁΩÆÊ§çÁâ©Ë°®ÊÉÖÂèòÂåñ
            setInterval(updatePlantMood, 10000); // ÊØè10ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°Ê§çÁâ©Ë°®ÊÉÖ
        }

        // Êõ¥Êñ∞Ê§çÁâ©ÊòæÁ§∫
        function updatePlantDisplay() {
            const plant = appState.plant;
            const plantDisplay = document.getElementById('plantDisplay');

            // Ê∏ÖÈô§Áé∞ÊúâÊ§çÁâ©
            plantDisplay.innerHTML = '';

            // ÂàõÂª∫Ê§çÁâ©
            const plantElement = document.createElement('div');
            plantElement.className = `cartoon-plant ${plant.mood} sway`;

            // Ê†πÊçÆÊàêÈïøÈò∂ÊÆµËÆæÁΩÆËåéÁöÑÈ´òÂ∫¶
            let stemHeight = 0;
            if (plant.growthStage >= 2) stemHeight = 80;
            if (plant.growthStage >= 3) stemHeight = 120;
            if (plant.growthStage >= 4) stemHeight = 160;
            if (plant.growthStage >= 5) stemHeight = 200;

            // Ê∑ªÂä†Ëåé
            const stem = document.createElement('div');
            stem.className = 'cartoon-stem';
            stem.style.height = `${stemHeight}px`;
            plantElement.appendChild(stem);

            // Ê†πÊçÆÊ§çÁâ©Á±ªÂûãËÆæÁΩÆ‰∏çÂêåÁöÑÂ§ñËßÇ
            updatePlantAppearance(plantElement, plant.type);

            // Ê∑ªÂä†Âè∂Â≠êÔºàÊ†πÊçÆÊàêÈïøÈò∂ÊÆµÔºâ
            if (plant.growthStage >= 2) {
                for (let i = 0; i < plant.growthStage * 2; i++) {
                    const leaf = document.createElement('div');
                    leaf.className = 'cartoon-leaf';
                    leaf.style.left = `${(i % 2 === 0 ? -1 : 1) * 30}px`;
                    leaf.style.top = `${-i * 20}px`;
                    plantElement.appendChild(leaf);
                }
            }

            // Ê∑ªÂä†Ëä±ÊúµÔºàÂ¶ÇÊûúËææÂà∞ÂºÄËä±Èò∂ÊÆµÔºâ
            if (plant.growthStage >= 5) {
                const flower = document.createElement('div');
                flower.className = 'flower';
                flower.style.opacity = '1';
                flower.innerHTML = `
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal center"></div>
                `;
                plantElement.appendChild(flower);
            }

            // Ê∑ªÂä†Èù¢ÈÉ®
            const face = document.createElement('div');
            face.className = 'cartoon-face';
            face.innerHTML = `
                <div class="cartoon-eye left"></div>
                <div class="cartoon-eye right"></div>
                <div class="cartoon-mouth"></div>
                <div class="blush left"></div>
                <div class="blush right"></div>
            `;
            plantElement.appendChild(face);

            // Ê∑ªÂä†Ë£ÖÈ•∞ÂìÅ
            plant.decorations.forEach(decoration => {
                const decorElement = document.createElement('div');
                decorElement.className = `decoration ${decoration}`;
                plantElement.appendChild(decorElement);
            });

            plantDisplay.appendChild(plantElement);

            // Êõ¥Êñ∞Ê§çÁâ©Á≠âÁ∫ßÊòæÁ§∫
            document.getElementById('plantLevel').textContent = plant.growthStage;

            // Êõ¥Êñ∞ËøõÂ∫¶Êù°
            document.getElementById('waterBar').style.width = `${plant.water}%`;
            document.getElementById('sunlightBar').style.width = `${plant.sunlight}%`;
            document.getElementById('fertilizerBar').style.width = `${plant.fertilizer}%`;

            document.getElementById('waterPercent').textContent = `${Math.round(plant.water)}%`;
            document.getElementById('sunlightPercent').textContent = `${Math.round(plant.sunlight)}%`;
            document.getElementById('fertilizerPercent').textContent = `${Math.round(plant.fertilizer)}%`;

            // Ê∑ªÂä†Âä®ÁîªÊïàÊûú
            if (plant.water > 70 && plant.sunlight > 70 && plant.fertilizer > 70) {
                plantElement.classList.add('bounce');
                setTimeout(() => {
                    plantElement.classList.remove('bounce');
                }, 500);
            }

            // Êõ¥Êñ∞Ê§çÁâ©ÂøÉÊÉÖ
            updatePlantMood();
        }

        // Ê†πÊçÆÊ§çÁâ©Á±ªÂûãÊõ¥Êñ∞Â§ñËßÇ
        function updatePlantAppearance(plantElement, plantType) {
            const stem = plantElement.querySelector('.cartoon-stem');
            const leaves = plantElement.querySelectorAll('.cartoon-leaf');

            // Ê†πÊçÆÊ§çÁâ©Á±ªÂûãËÆæÁΩÆ‰∏çÂêåÁöÑÈ¢úËâ≤ÂíåÂΩ¢Áä∂
            switch(plantType) {
                case "cactus":
                    stem.style.background = "#7bcfa8";
                    stem.style.borderRadius = "10px";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#7bcfa8";
                        leaf.style.borderRadius = "10px";
                    });
                    break;
                case "sunflower":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#a8e6cf";
                    });
                    break;
                case "rose":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#a8e6cf";
                    });
                    break;
                case "fern":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#7bcfa8";
                    });
                    break;
                case "succulent":
                    stem.style.background = "#7bcfa8";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#7bcfa8";
                        leaf.style.borderRadius = "10px";
                    });
                    break;
                case "lily":
                    stem.style.background = "#a8e6cf";
                    leaves.forEach(leaf => {
                        leaf.style.background = "#a8e6cf";
                    });
                    break;
            }
        }

        // Êõ¥Êñ∞Ê§çÁâ©Ë°®ÊÉÖ
        function updatePlantMood() {
            const plant = appState.plant;
            const plantElement = document.querySelector('.cartoon-plant');

            if (!plantElement) return;

            // Ê†πÊçÆÊ§çÁâ©Áä∂ÊÄÅÊõ¥Êñ∞ÂøÉÊÉÖ
            if (plant.water < 30 || plant.sunlight < 30 || plant.fertilizer < 30) {
                plant.mood = "sad";
            } else if (plant.water > 70 && plant.sunlight > 70 && plant.fertilizer > 70) {
                plant.mood = "excited";
            } else {
                plant.mood = "happy";
            }

            // Êõ¥Êñ∞Ê§çÁâ©Á±ªÂêç
            plantElement.className = `cartoon-plant ${plant.mood} sway`;
        }

        // Êõ¥Êñ∞ËµÑÊ∫êÊòæÁ§∫
        function updateResourceDisplay() {
            document.getElementById('waterCount').textContent = appState.resources.water;
            document.getElementById('sunlightCount').textContent = appState.resources.sunlight;
            document.getElementById('fertilizerCount').textContent = appState.resources.fertilizer;
        }

        // Êõ¥Êñ∞ÁªüËÆ°ÊòæÁ§∫
        function updateStatsDisplay() {
            document.getElementById('wordsLearned').textContent = appState.learning.wordsLearned;
            document.getElementById('plantLevel').textContent = appState.plant.growthStage;
            document.getElementById('streakDays').textContent = appState.learning.streakDays;
            document.getElementById('totalXP').textContent = appState.learning.totalXP;
        }

        // Âä†ËΩΩÂçïËØç
        function loadWord() {
            const wordData = wordBank[appState.learning.currentWordIndex];

            document.getElementById('currentWord').textContent = wordData.word;
            document.getElementById('currentPhonetic').textContent = wordData.phonetic;
            document.getElementById('currentTranslation').textContent = wordData.translation;
            document.getElementById('currentExample').textContent = wordData.example;

            // ÈöêËóèÁøªËØëÂíå‰æãÂè•
            document.getElementById('currentTranslation').style.display = 'none';
            document.getElementById('currentExample').style.display = 'none';
            document.getElementById('revealBtn').style.display = 'block';

            // ÈáçÁΩÆÁ≠îÊ°àÊòæÁ§∫Áä∂ÊÄÅ
            appState.learning.answerRevealed = false;

            // ÂàõÂª∫ÈÄâÈ°π
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            // ÁîüÊàêÂπ≤Êâ∞ÈÄâÈ°π
            const options = generateOptions(wordData.correctOption);

            options.forEach(option => {
                const optionButton = document.createElement('button');
                optionButton.className = 'option';
                optionButton.textContent = option;
                optionButton.addEventListener('click', function() {
                    checkAnswer(option, wordData.correctOption);
                });
                optionsContainer.appendChild(optionButton);
            });
        }

        // ÁîüÊàêÈÄâÈ°πÔºàÂåÖÂê´Ê≠£Á°ÆÁ≠îÊ°àÂíåÂπ≤Êâ∞È°πÔºâ
        function generateOptions(correctOption) {
            // ‰ªéËØçÂ∫ì‰∏≠ÈöèÊú∫ÈÄâÊã©3‰∏™‰∏çÂêåÁöÑÂπ≤Êâ∞È°π
            const distractors = [];
            const usedIndices = new Set();

            while (distractors.length < 3) {
                const randomIndex = Math.floor(Math.random() * wordBank.length);
                if (!usedIndices.has(randomIndex) && wordBank[randomIndex].correctOption !== correctOption) {
                    distractors.push(wordBank[randomIndex].correctOption);
                    usedIndices.add(randomIndex);
                }
            }

            // ÂêàÂπ∂Ê≠£Á°ÆÁ≠îÊ°àÂíåÂπ≤Êâ∞È°πÔºåÁÑ∂ÂêéÈöèÊú∫ÊéíÂ∫è
            const allOptions = [correctOption, ...distractors];
            return allOptions.sort(() => Math.random() - 0.5);
        }

        // Ê£ÄÊü•Á≠îÊ°à
        function checkAnswer(selected, correct) {
            const options = document.querySelectorAll('.option');
            let correctOption = null;

            options.forEach(option => {
                option.disabled = true;
                if (option.textContent === correct) {
                    correctOption = option;
                    option.classList.add('correct');
                } else if (option.textContent === selected && selected !== correct) {
                    option.classList.add('incorrect');
                }
            });

            if (selected === correct) {
                // ÂõûÁ≠îÊ≠£Á°ÆÔºåËé∑ÂæóÂ•ñÂä±
                appState.learning.wordsLearned++;
                appState.learning.totalXP += 10;
                appState.resources.water += 2;
                appState.resources.sunlight += 2;
                appState.resources.fertilizer += 1;

                // Ê§çÁâ©ÂºÄÂøÉÂä®Áîª
                document.querySelector('.cartoon-plant').classList.add('wiggle');
                setTimeout(() => {
                    document.querySelector('.cartoon-plant').classList.remove('wiggle');
                }, 500);

                showRewardNotification("ÂõûÁ≠îÊ≠£Á°ÆÔºÅËé∑ÂæóËµÑÊ∫êÂ•ñÂä±ÔºÅ", "success");
                updateResourceDisplay();
                updateStatsDisplay();

                // ÊòæÁ§∫ÁøªËØëÂíå‰æãÂè•
                document.getElementById('currentTranslation').style.display = 'block';
                document.getElementById('currentExample').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';

                // ‰øùÂ≠òÊï∞ÊçÆ
                saveData();
            } else {
                showRewardNotification(`ÂõûÁ≠îÈîôËØØÔºåÊ≠£Á°ÆÁ≠îÊ°àÊòØ: ${correct}`, "error");
                if (correctOption) {
                    correctOption.classList.add('correct');
                }

                // ÊòæÁ§∫ÁøªËØëÂíå‰æãÂè•
                document.getElementById('currentTranslation').style.display = 'block';
                document.getElementById('currentExample').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';
            }
        }

        // ÊòæÁ§∫ÊèêÁ§∫
        function showHint() {
            const wordData = wordBank[appState.learning.currentWordIndex];
            showRewardNotification(`ÊèêÁ§∫: ÂçïËØçÂê´‰πâ‰∏é"${wordData.translation.split(' ')[0]}"Áõ∏ÂÖ≥`, "info");
        }

        // ÊòæÁ§∫Á≠îÊ°à
        function revealAnswer() {
            if (!appState.learning.answerRevealed) {
                document.getElementById('currentTranslation').style.display = 'block';
                document.getElementById('currentExample').style.display = 'block';
                document.getElementById('revealBtn').style.display = 'none';
                appState.learning.answerRevealed = true;
            }
        }

        // ‰∏ã‰∏Ä‰∏™ÂçïËØç
        function nextWord() {
            appState.learning.currentWordIndex = (appState.learning.currentWordIndex + 1) % wordBank.length;
            loadWord();
        }

        // ÊµáÊ∞¥
        function waterPlant() {
            if (appState.resources.water > 0) {
                appState.resources.water--;
                appState.plant.water = Math.min(100, appState.plant.water + 20);
                updatePlantDisplay();
                updateResourceDisplay();
                showRewardNotification("Ê§çÁâ©ÂñùÈ•±‰∫ÜÊ∞¥ÔºÅ", "success");
                saveData();
            } else {
                showRewardNotification("Ê∞¥ÂàÜ‰∏çË∂≥ÔºåÂ≠¶‰π†Êõ¥Â§öÂçïËØçÊù•Ëé∑ÂèñÔºÅ", "error");
            }
        }

        // ÊôíÂ§™Èò≥
        function sunlightPlant() {
            if (appState.resources.sunlight > 0) {
                appState.resources.sunlight--;
                appState.plant.sunlight = Math.min(100, appState.plant.sunlight + 20);
                updatePlantDisplay();
                updateResourceDisplay();
                showRewardNotification("Ê§çÁâ©‰∫´Âèó‰∫ÜÈò≥ÂÖâÔºÅ", "success");
                saveData();
            } else {
                showRewardNotification("Èò≥ÂÖâ‰∏çË∂≥ÔºåÂ≠¶‰π†Êõ¥Â§öÂçïËØçÊù•Ëé∑ÂèñÔºÅ", "error");
            }
        }

        // ÊñΩËÇ•
        function fertilizePlant() {
            if (appState.resources.fertilizer > 0) {
                appState.resources.fertilizer--;
                appState.plant.fertilizer = Math.min(100, appState.plant.fertilizer + 20);
                updatePlantDisplay();
                updateResourceDisplay();
                showRewardNotification("Ê§çÁâ©Ëé∑Âæó‰∫ÜËê•ÂÖªÔºÅ", "success");
                saveData();
            } else {
                showRewardNotification("ËÇ•Êñô‰∏çË∂≥ÔºåÂ≠¶‰π†Êõ¥Â§öÂçïËØçÊù•Ëé∑ÂèñÔºÅ", "error");
            }
        }

        // Ê∂àËÄóËµÑÊ∫êÔºàÈöèÊó∂Èó¥ÂáèÂ∞ëÊ§çÁâ©Áä∂ÊÄÅÔºâ
        function consumeResources() {
            appState.plant.water = Math.max(0, appState.plant.water - 5);
            appState.plant.sunlight = Math.max(0, appState.plant.sunlight - 3);
            appState.plant.fertilizer = Math.max(0, appState.plant.fertilizer - 2);

            updatePlantDisplay();
            saveData();

            // Â¶ÇÊûúËµÑÊ∫êËøá‰ΩéÔºåÊòæÁ§∫Ë≠¶Âëä
            if (appState.plant.water < 20) {
                showRewardNotification("Ê§çÁâ©ÈúÄË¶ÅÊµáÊ∞¥ÔºÅ", "warning");
            } else if (appState.plant.sunlight < 20) {
                showRewardNotification("Ê§çÁâ©ÈúÄË¶ÅÈò≥ÂÖâÔºÅ", "warning");
            } else if (appState.plant.fertilizer < 20) {
                showRewardNotification("Ê§çÁâ©ÈúÄË¶ÅËÇ•ÊñôÔºÅ", "warning");
            }
        }

        // Ê£ÄÊü•Ê§çÁâ©ÁîüÈïø
        function checkPlantGrowth() {
            const plant = appState.plant;

            // Â¶ÇÊûúÊâÄÊúâËµÑÊ∫êÈÉΩÂÖÖË∂≥ÔºåÊ§çÁâ©ÂèØËÉΩÂçáÁ∫ß
            if (plant.water > 70 && plant.sunlight > 70 && plant.fertilizer > 70) {
                // Êúâ20%ÁöÑÂá†ÁéáÂçáÁ∫ß
                if (Math.random() < 0.2 && plant.growthStage < 5) {
                    plant.growthStage++;
                    showRewardNotification(`ÊÅ≠ÂñúÔºÅÊ§çÁâ©ÂçáÁ∫ßÂà∞Á¨¨${plant.growthStage}Èò∂ÊÆµÔºÅ`, "success");
                    updatePlantDisplay();
                    updateStatsDisplay();
                    saveData();
                }
            }

            // Â¶ÇÊûúËµÑÊ∫ê‰∏•Èáç‰∏çË∂≥ÔºåÊ§çÁâ©ÂèØËÉΩÈôçÁ∫ß
            if ((plant.water < 10 || plant.sunlight < 10 || plant.fertilizer < 10) && plant.growthStage > 1) {
                // Êúâ10%ÁöÑÂá†ÁéáÈôçÁ∫ß
                if (Math.random() < 0.1) {
                    plant.growthStage--;
                    showRewardNotification(`Ë≠¶ÂëäÔºÅÊ§çÁâ©ÈôçÁ∫ßÂà∞Á¨¨${plant.growthStage}Èò∂ÊÆµÔºÅ`, "error");
                    updatePlantDisplay();
                    updateStatsDisplay();
                    saveData();
                }
            }
        }

        // ËÆæÁΩÆÂïÜÂ∫ó
        function setupShop() {
            const shopItemsContainer = document.getElementById('shopItems');
            shopItemsContainer.innerHTML = '';

            appState.shopItems.forEach(item => {
                const shopItem = document.createElement('div');
                shopItem.className = 'shop-item';
                shopItem.innerHTML = `
                    <div class="shop-item-icon">${item.icon}</div>
                    <div class="shop-item-name">${item.name}</div>
                    <div class="shop-item-price">
                        ${Object.entries(item.price).map(([resource, amount]) =>
                            `<div class="price-tag">${getResourceEmoji(resource)} ${amount}</div>`
                        ).join('')}
                    </div>
                    <div class="unlocked">${appState.plant.decorations.includes(item.type) ? 'Â∑≤Êã•Êúâ' : 'Ë¥≠‰π∞'}</div>
                `;

                if (!appState.plant.decorations.includes(item.type)) {
                    shopItem.addEventListener('click', () => purchaseItem(item));
                }

                shopItemsContainer.appendChild(shopItem);
            });
        }

        // Ëé∑ÂèñËµÑÊ∫êË°®ÊÉÖ
        function getResourceEmoji(resource) {
            switch(resource) {
                case 'water': return 'üíß';
                case 'sunlight': return '‚òÄÔ∏è';
                case 'fertilizer': return 'üå±';
                default: return '';
            }
        }

        // Ë¥≠‰π∞Áâ©ÂìÅ
        function purchaseItem(item) {
            // Ê£ÄÊü•ËµÑÊ∫êÊòØÂê¶Ë∂≥Â§ü
            let canAfford = true;
            for (const [resource, amount] of Object.entries(item.price)) {
                if (appState.resources[resource] < amount) {
                    canAfford = false;
                    break;
                }
            }

            if (canAfford) {
                // Êâ£Èô§ËµÑÊ∫ê
                for (const [resource, amount] of Object.entries(item.price)) {
                    appState.resources[resource] -= amount;
                }

                // Ê∑ªÂä†Ë£ÖÈ•∞
                appState.plant.decorations.push(item.type);

                // Êõ¥Êñ∞ÊòæÁ§∫
                updateResourceDisplay();
                updatePlantDisplay();
                setupShop();
                saveData();

                showRewardNotification(`ÊàêÂäüË¥≠‰π∞${item.name}ÔºÅ`, "success");
            } else {
                showRewardNotification("ËµÑÊ∫ê‰∏çË∂≥ÔºåÊó†Ê≥ïË¥≠‰π∞ÔºÅ", "error");
            }
        }

        // ÊòæÁ§∫Â•ñÂä±ÈÄöÁü•
        function showRewardNotification(message, type) {
            const notification = document.getElementById('rewardNotification');
            notification.textContent = message;

            // ËÆæÁΩÆÈÄöÁü•Ê†∑Âºè
            notification.className = 'reward-notification';
            if (type === 'success') {
                notification.style.background = '#a8e6cf';
                notification.style.color = '#2e7d32';
            } else if (type === 'error') {
                notification.style.background = '#ffab91';
                notification.style.color = '#c62828';
            } else if (type === 'warning') {
                notification.style.background = '#ffd93d';
                notification.style.color = '#f57c00';
            } else {
                notification.style.background = '#4fc3f7';
                notification.style.color = '#01579b';
            }

            notification.classList.add('show');

            // 3ÁßíÂêéÈöêËóèÈÄöÁü•
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
