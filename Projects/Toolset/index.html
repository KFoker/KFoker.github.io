<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ¨çº¿å·¥å…·é›†åˆ - ä¸“ä¸šå®ç”¨å·¥å…·</title>
    <!-- å¼•å…¥é…ç½®æ–‡ä»¶ -->
    <script src="payment_config.js"></script>
    <script src="ad_config.js"></script>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD" data-sdk-integration-source="button-factory"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 24px;
            padding: 40px 30px;
            margin-bottom: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .header-icon {
            font-size: 3.5em;
            margin-bottom: 16px;
            display: inline-block;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        }

        .header h1 {
            color: #667eea;
            font-size: 2.8em;
            margin-bottom: 12px;
            font-weight: 700;
            letter-spacing: -0.5px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #666;
            font-size: 1.15em;
            margin-bottom: 28px;
            font-weight: 400;
            opacity: 0.85;
        }

        /* å¹¿å‘Šä½æ ·å¼ */
        .ad-container {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            border: 2px dashed #ddd;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ad-placeholder {
            color: #999;
            font-size: 0.9em;
        }

        /* å·¥å…·å¡ç‰‡ç½‘æ ¼ */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 28px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .tool-card:hover::before {
            transform: scaleX(1);
        }

        .tool-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.2);
        }

        .tool-card.premium {
            border: 2px solid #ffd700;
            position: relative;
        }

        .premium-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: bold;
        }

        .tool-card h3 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 1.35em;
            font-weight: 600;
            line-height: 1.3;
            margin-top: 8px;
        }

        .tool-card p {
            color: #666;
            margin-bottom: 16px;
            line-height: 1.7;
            font-size: 0.95em;
            opacity: 0.85;
        }

        /* å·¥å…·é¢æ¿ */
        .tool-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .tool-panel.active {
            display: block;
        }

        .tool-panel h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
            font-family: inherit;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 500;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .result-box {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            min-height: 50px;
            word-break: break-all;
        }

        .back-btn {
            margin-bottom: 20px;
        }

        /* ä»˜è´¹æç¤ºå¼¹çª— */
        .premium-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .premium-modal.active {
            display: flex;
        }

        .premium-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            text-align: center;
            position: relative;
        }

        .premium-content h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .premium-content p {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 2em;
            cursor: pointer;
            color: #999;
        }

        .donate-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-top: 30px;
        }

        .donate-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .donate-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .donate-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .donate-btn:hover {
            transform: scale(1.05);
        }

        .stats {
            display: flex;
            gap: 24px;
            justify-content: center;
            margin-top: 32px;
            flex-wrap: wrap;
            padding-top: 28px;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
        }

        .stat-item {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);
            padding: 20px 32px;
            border-radius: 16px;
            color: #667eea;
            border: 1px solid rgba(102, 126, 234, 0.15);
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .stat-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .stat-item strong {
            display: block;
            font-size: 2.2em;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 6px;
            line-height: 1;
        }

        .stat-item span {
            display: block;
            font-size: 0.9em;
            color: #888;
            font-weight: 500;
            margin-top: 4px;
        }

        /* æœç´¢æ¡† */
        .search-container {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .search-wrapper {
            position: relative;
            margin-bottom: 20px;
        }

        .search-box {
            width: 100%;
            padding: 18px 24px 18px 56px;
            border: 2px solid #e8e8e8;
            border-radius: 16px;
            font-size: 1.05em;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #fafafa;
            color: #333;
        }

        .search-box::placeholder {
            color: #999;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
            background: #fff;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1), 0 4px 12px rgba(102, 126, 234, 0.15);
            transform: translateY(-1px);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.3em;
            color: #999;
            pointer-events: none;
            transition: color 0.3s;
        }

        .search-box:focus + .search-icon {
            color: #667eea;
        }

        /* åˆ†ç±»æ ‡ç­¾ */
        .category-tabs {
            display: flex;
            gap: 12px;
            margin-top: 4px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category-tab {
            padding: 10px 24px;
            background: #f5f5f5;
            border: 2px solid transparent;
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.95em;
            font-weight: 500;
            color: #666;
            position: relative;
            overflow: hidden;
        }

        .category-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .category-tab:hover::before {
            left: 100%;
        }

        .category-tab:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .category-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }

        /* å·¥å…·æ ‡ç­¾ */
        .tool-tags {
            display: flex;
            gap: 5px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .tool-tag {
            padding: 5px 12px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            border-radius: 14px;
            font-size: 0.75em;
            color: #666;
            font-weight: 500;
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.2s;
        }

        .tool-tag:hover {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            color: #667eea;
            border-color: rgba(102, 126, 234, 0.2);
        }

        /* æ”¶è—æŒ‰é’® */
        .favorite-btn {
            position: absolute;
            top: 18px;
            left: 18px;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .favorite-btn:hover {
            opacity: 1;
            transform: scale(1.15) rotate(5deg);
            background: rgba(255, 107, 107, 0.1);
            border-color: rgba(255, 107, 107, 0.3);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.2);
        }

        .favorite-btn.active {
            opacity: 1;
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.15);
            border-color: rgba(255, 107, 107, 0.4);
            animation: pulse 0.6s ease-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .tool-card {
            position: relative;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(102, 126, 234, 0.3);
            border-radius: 50%;
            border-top-color: #667eea;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* é€šçŸ¥æç¤º */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ä»£ç é«˜äº® */
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        /* å“åº”å¼æ”¹è¿› */
        /* å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .header {
                padding: 28px 20px;
                border-radius: 20px;
            }

            .header-icon {
                font-size: 2.8em;
                margin-bottom: 12px;
            }

            .header h1 {
                font-size: 2em;
            }

            .header p {
                font-size: 1em;
            }

            .stats {
                gap: 16px;
                margin-top: 24px;
                padding-top: 20px;
            }

            .stat-item {
                padding: 16px 24px;
                min-width: 120px;
            }

            .stat-item strong {
                font-size: 1.8em;
            }

            .search-container {
                padding: 20px;
                border-radius: 16px;
            }

            .search-box {
                padding: 16px 20px 16px 48px;
                font-size: 1em;
            }

            .search-icon {
                left: 16px;
                font-size: 1.2em;
            }

            .category-tabs {
                gap: 8px;
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 4px;
                -webkit-overflow-scrolling: touch;
            }

            .category-tab {
                padding: 8px 18px;
                font-size: 0.9em;
                white-space: nowrap;
            }

            .tools-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .tool-card {
                padding: 22px;
                border-radius: 16px;
            }

            .tool-card h3 {
                font-size: 1.2em;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.6em;
            }

            .stat-item {
                padding: 14px 20px;
                min-width: 100px;
            }

            .stat-item strong {
                font-size: 1.6em;
            }

            .stat-item span {
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-icon">ğŸ› ï¸</div>
            <h1>åœ¨çº¿å·¥å…·é›†åˆ</h1>
            <p>ä¸“ä¸šã€å®ç”¨ã€é«˜æ•ˆçš„åœ¨çº¿å·¥å…·å¹³å°</p>
            <div class="stats">
                <div class="stat-item">
                    <strong id="usage-count">0</strong>
                    <span>ä½¿ç”¨æ¬¡æ•°</span>
                </div>
                <div class="stat-item">
                    <strong id="user-count">0</strong>
                    <span>ä»Šæ—¥ç”¨æˆ·</span>
                </div>
            </div>
        </div>

        <!-- é¡¶éƒ¨å¹¿å‘Šä½ -->
        <div class="ad-container" id="ad-top">
            <!-- Google AdSense è‡ªåŠ¨å¹¿å‘Š -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="1234567890"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <!-- å¦‚æœAdSenseæœªé…ç½®ï¼Œæ˜¾ç¤ºå ä½ç¬¦ -->
            <div class="ad-placeholder" id="ad-placeholder-top" style="display: none;">
                <p>ğŸ“¢ å¹¿å‘Šä½æ‹›ç§Ÿ | è”ç³»ï¼šyour-email@example.com</p>
                <p style="font-size: 0.8em; margin-top: 5px;">æˆ–é›†æˆ Google AdSense</p>
            </div>
        </div>

        <!-- æœç´¢å’Œåˆ†ç±» -->
        <div class="search-container">
            <div class="search-wrapper">
                <span class="search-icon">ğŸ”</span>
                <input type="text" class="search-box" id="searchBox" placeholder="æœç´¢å·¥å…·...">
            </div>
            <div class="category-tabs">
                <button class="category-tab active" data-category="all">å…¨éƒ¨</button>
                <button class="category-tab" data-category="text">æ–‡æœ¬å·¥å…·</button>
                <button class="category-tab" data-category="code">ç¼–ç è§£ç </button>
                <button class="category-tab" data-category="convert">æ ¼å¼è½¬æ¢</button>
                <button class="category-tab" data-category="dev">å¼€å‘å·¥å…·</button>
                <button class="category-tab" data-category="other">å…¶ä»–å·¥å…·</button>
            </div>
        </div>

        <!-- å·¥å…·å¡ç‰‡ -->
        <div class="tools-grid" id="toolsGrid">
            <div class="tool-card" data-tool="text-counter" data-category="text">
                <button class="favorite-btn" onclick="toggleFavorite('text-counter', event)">â­</button>
                <h3>ğŸ“ æ–‡æœ¬ç»Ÿè®¡å·¥å…·</h3>
                <p>å¿«é€Ÿç»Ÿè®¡æ–‡æœ¬å­—æ•°ã€å­—ç¬¦æ•°ã€æ®µè½æ•°ç­‰</p>
                <div class="tool-tags"><span class="tool-tag">æ–‡æœ¬</span><span class="tool-tag">ç»Ÿè®¡</span></div>
            </div>

            <div class="tool-card" data-tool="base64" data-category="code">
                <button class="favorite-btn" onclick="toggleFavorite('base64', event)">â­</button>
                <h3>ğŸ” Base64 ç¼–ç /è§£ç </h3>
                <p>Base64 ç¼–ç å’Œè§£ç å·¥å…·</p>
                <div class="tool-tags"><span class="tool-tag">ç¼–ç </span><span class="tool-tag">è§£ç </span></div>
            </div>

            <div class="tool-card" data-tool="url-encoder" data-category="code">
                <button class="favorite-btn" onclick="toggleFavorite('url-encoder', event)">â­</button>
                <h3>ğŸ”— URL ç¼–ç /è§£ç </h3>
                <p>URL ç¼–ç å’Œè§£ç å·¥å…·</p>
                <div class="tool-tags"><span class="tool-tag">URL</span><span class="tool-tag">ç¼–ç </span></div>
            </div>

            <div class="tool-card" data-tool="json-formatter" data-category="convert">
                <button class="favorite-btn" onclick="toggleFavorite('json-formatter', event)">â­</button>
                <h3>ğŸ“‹ JSON æ ¼å¼åŒ–</h3>
                <p>ç¾åŒ– JSON æ ¼å¼ï¼Œæé«˜å¯è¯»æ€§</p>
                <div class="tool-tags"><span class="tool-tag">JSON</span><span class="tool-tag">æ ¼å¼åŒ–</span></div>
            </div>

            <div class="tool-card premium" data-tool="qr-generator" data-category="other">
                <span class="premium-badge">PRO</span>
                <button class="favorite-btn" onclick="toggleFavorite('qr-generator', event)">â­</button>
                <h3>ğŸ“± äºŒç»´ç ç”Ÿæˆå™¨</h3>
                <p>ç”Ÿæˆè‡ªå®šä¹‰äºŒç»´ç ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰</p>
                <div class="tool-tags"><span class="tool-tag">äºŒç»´ç </span><span class="tool-tag">ç”Ÿæˆ</span></div>
            </div>

            <div class="tool-card premium" data-tool="color-picker" data-category="dev">
                <span class="premium-badge">PRO</span>
                <button class="favorite-btn" onclick="toggleFavorite('color-picker', event)">â­</button>
                <h3>ğŸ¨ é¢œè‰²é€‰æ‹©å™¨</h3>
                <p>ä¸“ä¸šé¢œè‰²é€‰æ‹©ä¸è½¬æ¢å·¥å…·ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰</p>
                <div class="tool-tags"><span class="tool-tag">é¢œè‰²</span><span class="tool-tag">è®¾è®¡</span></div>
            </div>

            <div class="tool-card" data-tool="timestamp" data-category="convert">
                <button class="favorite-btn" onclick="toggleFavorite('timestamp', event)">â­</button>
                <h3>â° æ—¶é—´æˆ³è½¬æ¢</h3>
                <p>Unix æ—¶é—´æˆ³ä¸æ—¥æœŸäº’è½¬</p>
                <div class="tool-tags"><span class="tool-tag">æ—¶é—´</span><span class="tool-tag">è½¬æ¢</span></div>
            </div>

            <div class="tool-card premium" data-tool="password-generator" data-category="other">
                <span class="premium-badge">PRO</span>
                <button class="favorite-btn" onclick="toggleFavorite('password-generator', event)">â­</button>
                <h3>ğŸ”’ å¯†ç ç”Ÿæˆå™¨</h3>
                <p>ç”Ÿæˆå¼ºå¯†ç ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰</p>
                <div class="tool-tags"><span class="tool-tag">å¯†ç </span><span class="tool-tag">å®‰å…¨</span></div>
            </div>

            <div class="tool-card" data-tool="hash-generator" data-category="code">
                <button class="favorite-btn" onclick="toggleFavorite('hash-generator', event)">â­</button>
                <h3>ğŸ”‘ å“ˆå¸Œè®¡ç®—å™¨</h3>
                <p>MD5ã€SHA1ã€SHA256ç­‰å“ˆå¸Œå€¼è®¡ç®—</p>
                <div class="tool-tags"><span class="tool-tag">å“ˆå¸Œ</span><span class="tool-tag">åŠ å¯†</span></div>
            </div>

            <div class="tool-card" data-tool="regex-tester" data-category="dev">
                <button class="favorite-btn" onclick="toggleFavorite('regex-tester', event)">â­</button>
                <h3>ğŸ” æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•</h3>
                <p>æµ‹è¯•å’Œè°ƒè¯•æ­£åˆ™è¡¨è¾¾å¼</p>
                <div class="tool-tags"><span class="tool-tag">æ­£åˆ™</span><span class="tool-tag">å¼€å‘</span></div>
            </div>

            <div class="tool-card" data-tool="html-formatter" data-category="convert">
                <button class="favorite-btn" onclick="toggleFavorite('html-formatter', event)">â­</button>
                <h3>ğŸŒ HTML æ ¼å¼åŒ–</h3>
                <p>ç¾åŒ–å’Œæ ¼å¼åŒ– HTML ä»£ç </p>
                <div class="tool-tags"><span class="tool-tag">HTML</span><span class="tool-tag">æ ¼å¼åŒ–</span></div>
            </div>

            <div class="tool-card" data-tool="unit-converter" data-category="convert">
                <button class="favorite-btn" onclick="toggleFavorite('unit-converter', event)">â­</button>
                <h3>ğŸ“ å•ä½è½¬æ¢å™¨</h3>
                <p>é•¿åº¦ã€é‡é‡ã€æ¸©åº¦ç­‰å•ä½è½¬æ¢</p>
                <div class="tool-tags"><span class="tool-tag">å•ä½</span><span class="tool-tag">è½¬æ¢</span></div>
            </div>

            <div class="tool-card" data-tool="ip-lookup" data-category="other">
                <button class="favorite-btn" onclick="toggleFavorite('ip-lookup', event)">â­</button>
                <h3>ğŸŒ IP åœ°å€æŸ¥è¯¢</h3>
                <p>æŸ¥è¯¢IPåœ°å€çš„åœ°ç†ä½ç½®ä¿¡æ¯</p>
                <div class="tool-tags"><span class="tool-tag">IP</span><span class="tool-tag">æŸ¥è¯¢</span></div>
            </div>

            <div class="tool-card" data-tool="text-diff" data-category="text">
                <button class="favorite-btn" onclick="toggleFavorite('text-diff', event)">â­</button>
                <h3>ğŸ“Š æ–‡æœ¬å¯¹æ¯”å·¥å…·</h3>
                <p>å¯¹æ¯”ä¸¤ä¸ªæ–‡æœ¬çš„å·®å¼‚</p>
                <div class="tool-tags"><span class="tool-tag">å¯¹æ¯”</span><span class="tool-tag">æ–‡æœ¬</span></div>
            </div>

            <div class="tool-card" data-tool="random-generator" data-category="other">
                <button class="favorite-btn" onclick="toggleFavorite('random-generator', event)">â­</button>
                <h3>ğŸ² éšæœºæ•°ç”Ÿæˆå™¨</h3>
                <p>ç”Ÿæˆéšæœºæ•°å­—ã€å­—ç¬¦ä¸²ç­‰</p>
                <div class="tool-tags"><span class="tool-tag">éšæœº</span><span class="tool-tag">ç”Ÿæˆ</span></div>
            </div>

            <div class="tool-card premium" data-tool="qr-decoder" data-category="other">
                <span class="premium-badge">PRO</span>
                <button class="favorite-btn" onclick="toggleFavorite('qr-decoder', event)">â­</button>
                <h3>ğŸ“± äºŒç»´ç è§£ç </h3>
                <p>è§£ç äºŒç»´ç å›¾ç‰‡å†…å®¹ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰</p>
                <div class="tool-tags"><span class="tool-tag">äºŒç»´ç </span><span class="tool-tag">è§£ç </span></div>
            </div>

            <div class="tool-card" data-tool="date-calculator" data-category="convert">
                <button class="favorite-btn" onclick="toggleFavorite('date-calculator', event)">â­</button>
                <h3>ğŸ“… æ—¥æœŸè®¡ç®—å™¨</h3>
                <p>è®¡ç®—æ—¥æœŸå·®ã€æ·»åŠ å¤©æ•°ç­‰</p>
                <div class="tool-tags"><span class="tool-tag">æ—¥æœŸ</span><span class="tool-tag">è®¡ç®—</span></div>
            </div>

            <div class="tool-card" data-tool="uuid-generator" data-category="dev">
                <button class="favorite-btn" onclick="toggleFavorite('uuid-generator', event)">â­</button>
                <h3>ğŸ†” UUID ç”Ÿæˆå™¨</h3>
                <p>ç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦UUID</p>
                <div class="tool-tags"><span class="tool-tag">UUID</span><span class="tool-tag">ID</span></div>
            </div>
        </div>

        <!-- æ–‡æœ¬ç»Ÿè®¡å·¥å…· -->
        <div class="tool-panel" id="text-counter">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“ æ–‡æœ¬ç»Ÿè®¡å·¥å…·</h2>
            <div class="form-group">
                <label for="text-input">è¾“å…¥æ–‡æœ¬ï¼š</label>
                <textarea id="text-input" placeholder="åœ¨æ­¤è¾“å…¥è¦ç»Ÿè®¡çš„æ–‡æœ¬..."></textarea>
            </div>
            <button class="btn" onclick="countText()">ç»Ÿè®¡</button>
            <div class="result-box" id="text-result"></div>
        </div>

        <!-- Base64 ç¼–ç /è§£ç  -->
        <div class="tool-panel" id="base64">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ” Base64 ç¼–ç /è§£ç </h2>
            <div class="form-group">
                <label>æ“ä½œç±»å‹ï¼š</label>
                <select id="base64-mode">
                    <option value="encode">ç¼–ç </option>
                    <option value="decode">è§£ç </option>
                </select>
            </div>
            <div class="form-group">
                <label for="base64-input">è¾“å…¥å†…å®¹ï¼š</label>
                <textarea id="base64-input" placeholder="è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„å†…å®¹..."></textarea>
            </div>
            <button class="btn" onclick="processBase64()">å¤„ç†</button>
            <div class="result-box" id="base64-result"></div>
        </div>

        <!-- URL ç¼–ç /è§£ç  -->
        <div class="tool-panel" id="url-encoder">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ”— URL ç¼–ç /è§£ç </h2>
            <div class="form-group">
                <label>æ“ä½œç±»å‹ï¼š</label>
                <select id="url-mode">
                    <option value="encode">ç¼–ç </option>
                    <option value="decode">è§£ç </option>
                </select>
            </div>
            <div class="form-group">
                <label for="url-input">è¾“å…¥ URLï¼š</label>
                <textarea id="url-input" placeholder="è¾“å…¥è¦ç¼–ç æˆ–è§£ç çš„ URL..."></textarea>
            </div>
            <button class="btn" onclick="processURL()">å¤„ç†</button>
            <div class="result-box" id="url-result"></div>
        </div>

        <!-- JSON æ ¼å¼åŒ– -->
        <div class="tool-panel" id="json-formatter">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“‹ JSON æ ¼å¼åŒ–</h2>
            <div class="form-group">
                <label for="json-input">è¾“å…¥ JSONï¼š</label>
                <textarea id="json-input" placeholder='{"key": "value"}'></textarea>
            </div>
            <button class="btn" onclick="formatJSON()">æ ¼å¼åŒ–</button>
            <div class="result-box" id="json-result"></div>
        </div>

        <!-- äºŒç»´ç ç”Ÿæˆå™¨ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰ -->
        <div class="tool-panel" id="qr-generator">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“± äºŒç»´ç ç”Ÿæˆå™¨</h2>
            <div id="qr-premium-content">
                <div class="form-group">
                    <label for="qr-input">è¾“å…¥å†…å®¹ï¼š</label>
                    <input type="text" id="qr-input" placeholder="è¾“å…¥è¦ç”ŸæˆäºŒç»´ç çš„å†…å®¹...">
                </div>
                <div class="form-group">
                    <label for="qr-size">äºŒç»´ç å¤§å°ï¼š</label>
                    <select id="qr-size">
                        <option value="200">200x200</option>
                        <option value="300" selected>300x300</option>
                        <option value="400">400x400</option>
                    </select>
                </div>
                <button class="btn" onclick="generateQR()">ç”ŸæˆäºŒç»´ç </button>
                <div class="result-box" id="qr-result" style="text-align: center; padding: 20px;"></div>
            </div>
        </div>

        <!-- é¢œè‰²é€‰æ‹©å™¨ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰ -->
        <div class="tool-panel" id="color-picker">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ¨ é¢œè‰²é€‰æ‹©å™¨</h2>
            <div id="color-premium-content">
                <div class="form-group">
                    <label for="color-input">é€‰æ‹©é¢œè‰²ï¼š</label>
                    <input type="color" id="color-input" value="#667eea" style="width: 100%; height: 60px;">
                </div>
                <div class="result-box" id="color-result"></div>
            </div>
        </div>

        <!-- æ—¶é—´æˆ³è½¬æ¢ -->
        <div class="tool-panel" id="timestamp">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>â° æ—¶é—´æˆ³è½¬æ¢</h2>
            <div class="form-group">
                <label>è½¬æ¢ç±»å‹ï¼š</label>
                <select id="timestamp-mode">
                    <option value="to-date">æ—¶é—´æˆ³ â†’ æ—¥æœŸ</option>
                    <option value="to-timestamp">æ—¥æœŸ â†’ æ—¶é—´æˆ³</option>
                </select>
            </div>
            <div class="form-group">
                <label for="timestamp-input">è¾“å…¥ï¼š</label>
                <input type="text" id="timestamp-input" placeholder="è¾“å…¥æ—¶é—´æˆ³æˆ–æ—¥æœŸ...">
            </div>
            <button class="btn" onclick="convertTimestamp()">è½¬æ¢</button>
            <div class="result-box" id="timestamp-result"></div>
        </div>

        <!-- å¯†ç ç”Ÿæˆå™¨ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰ -->
        <div class="tool-panel" id="password-generator">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ”’ å¯†ç ç”Ÿæˆå™¨</h2>
            <div id="password-premium-content">
                <div class="form-group">
                    <label for="password-length">å¯†ç é•¿åº¦ï¼š</label>
                    <input type="number" id="password-length" value="16" min="8" max="64">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="include-uppercase" checked> åŒ…å«å¤§å†™å­—æ¯
                    </label>
                    <label>
                        <input type="checkbox" id="include-lowercase" checked> åŒ…å«å°å†™å­—æ¯
                    </label>
                    <label>
                        <input type="checkbox" id="include-numbers" checked> åŒ…å«æ•°å­—
                    </label>
                    <label>
                        <input type="checkbox" id="include-symbols" checked> åŒ…å«ç‰¹æ®Šå­—ç¬¦
                    </label>
                </div>
                <button class="btn" onclick="generatePassword()">ç”Ÿæˆå¯†ç </button>
                <div class="result-box" id="password-result"></div>
            </div>
        </div>

        <!-- å“ˆå¸Œè®¡ç®—å™¨ -->
        <div class="tool-panel" id="hash-generator">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ”‘ å“ˆå¸Œè®¡ç®—å™¨</h2>
            <div class="form-group">
                <label for="hash-input">è¾“å…¥å†…å®¹ï¼š</label>
                <textarea id="hash-input" placeholder="è¾“å…¥è¦è®¡ç®—å“ˆå¸Œå€¼çš„å†…å®¹..."></textarea>
            </div>
            <div class="form-group">
                <label>å“ˆå¸Œç®—æ³•ï¼š</label>
                <select id="hash-algorithm">
                    <option value="md5">MD5</option>
                    <option value="sha1">SHA-1</option>
                    <option value="sha256">SHA-256</option>
                    <option value="sha512">SHA-512</option>
                </select>
            </div>
            <button class="btn" onclick="calculateHash()">è®¡ç®—å“ˆå¸Œ</button>
            <div class="result-box" id="hash-result"></div>
        </div>

        <!-- æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯• -->
        <div class="tool-panel" id="regex-tester">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ” æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•</h2>
            <div class="form-group">
                <label for="regex-pattern">æ­£åˆ™è¡¨è¾¾å¼ï¼š</label>
                <input type="text" id="regex-pattern" placeholder="/pattern/flags">
            </div>
            <div class="form-group">
                <label for="regex-text">æµ‹è¯•æ–‡æœ¬ï¼š</label>
                <textarea id="regex-text" placeholder="è¾“å…¥è¦æµ‹è¯•çš„æ–‡æœ¬..."></textarea>
            </div>
            <button class="btn" onclick="testRegex()">æµ‹è¯•</button>
            <div class="result-box" id="regex-result"></div>
        </div>

        <!-- HTML æ ¼å¼åŒ– -->
        <div class="tool-panel" id="html-formatter">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸŒ HTML æ ¼å¼åŒ–</h2>
            <div class="form-group">
                <label for="html-input">è¾“å…¥ HTMLï¼š</label>
                <textarea id="html-input" placeholder="è¾“å…¥è¦æ ¼å¼åŒ–çš„ HTML ä»£ç ..."></textarea>
            </div>
            <button class="btn" onclick="formatHTML()">æ ¼å¼åŒ–</button>
            <div class="result-box" id="html-result"></div>
        </div>

        <!-- å•ä½è½¬æ¢å™¨ -->
        <div class="tool-panel" id="unit-converter">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“ å•ä½è½¬æ¢å™¨</h2>
            <div class="form-group">
                <label>è½¬æ¢ç±»å‹ï¼š</label>
                <select id="unit-type">
                    <option value="length">é•¿åº¦</option>
                    <option value="weight">é‡é‡</option>
                    <option value="temperature">æ¸©åº¦</option>
                    <option value="area">é¢ç§¯</option>
                    <option value="volume">ä½“ç§¯</option>
                </select>
            </div>
            <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 15px; align-items: end;">
                <div class="form-group">
                    <label for="unit-from-value">æ•°å€¼ï¼š</label>
                    <input type="number" id="unit-from-value" placeholder="è¾“å…¥æ•°å€¼" step="any">
                </div>
                <div style="font-size: 1.5em; padding-bottom: 8px;">â†’</div>
                <div class="form-group">
                    <label for="unit-to-value">ç»“æœï¼š</label>
                    <input type="text" id="unit-to-value" readonly style="background: #f0f0f0;">
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label for="unit-from">ä»ï¼š</label>
                    <select id="unit-from"></select>
                </div>
                <div class="form-group">
                    <label for="unit-to">åˆ°ï¼š</label>
                    <select id="unit-to"></select>
                </div>
            </div>
            <button class="btn" onclick="convertUnit()">è½¬æ¢</button>
            <div class="result-box" id="unit-result"></div>
        </div>

        <!-- IP åœ°å€æŸ¥è¯¢ -->
        <div class="tool-panel" id="ip-lookup">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸŒ IP åœ°å€æŸ¥è¯¢</h2>
            <div class="form-group">
                <label for="ip-input">IP åœ°å€ï¼ˆç•™ç©ºæŸ¥è¯¢æœ¬æœºIPï¼‰ï¼š</label>
                <input type="text" id="ip-input" placeholder="ä¾‹å¦‚ï¼š8.8.8.8">
            </div>
            <button class="btn" onclick="lookupIP()">æŸ¥è¯¢</button>
            <div class="result-box" id="ip-result"></div>
        </div>

        <!-- æ–‡æœ¬å¯¹æ¯”å·¥å…· -->
        <div class="tool-panel" id="text-diff">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“Š æ–‡æœ¬å¯¹æ¯”å·¥å…·</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                    <label for="diff-text1">æ–‡æœ¬ 1ï¼š</label>
                    <textarea id="diff-text1" placeholder="è¾“å…¥ç¬¬ä¸€æ®µæ–‡æœ¬..."></textarea>
                </div>
                <div class="form-group">
                    <label for="diff-text2">æ–‡æœ¬ 2ï¼š</label>
                    <textarea id="diff-text2" placeholder="è¾“å…¥ç¬¬äºŒæ®µæ–‡æœ¬..."></textarea>
                </div>
            </div>
            <button class="btn" onclick="compareText()">å¯¹æ¯”</button>
            <div class="result-box" id="diff-result"></div>
        </div>

        <!-- éšæœºæ•°ç”Ÿæˆå™¨ -->
        <div class="tool-panel" id="random-generator">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ² éšæœºæ•°ç”Ÿæˆå™¨</h2>
            <div class="form-group">
                <label>ç”Ÿæˆç±»å‹ï¼š</label>
                <select id="random-type">
                    <option value="number">éšæœºæ•°å­—</option>
                    <option value="string">éšæœºå­—ç¬¦ä¸²</option>
                    <option value="uuid">UUID</option>
                    <option value="color">éšæœºé¢œè‰²</option>
                </select>
            </div>
            <div class="form-group" id="random-number-options">
                <label for="random-min">æœ€å°å€¼ï¼š</label>
                <input type="number" id="random-min" value="1">
                <label for="random-max" style="margin-top: 10px;">æœ€å¤§å€¼ï¼š</label>
                <input type="number" id="random-max" value="100">
                <label for="random-count" style="margin-top: 10px;">ç”Ÿæˆæ•°é‡ï¼š</label>
                <input type="number" id="random-count" value="1" min="1" max="100">
            </div>
            <div class="form-group" id="random-string-options" style="display: none;">
                <label for="random-length">å­—ç¬¦ä¸²é•¿åº¦ï¼š</label>
                <input type="number" id="random-length" value="10" min="1" max="1000">
                <label style="margin-top: 10px;">
                    <input type="checkbox" id="random-uppercase" checked> åŒ…å«å¤§å†™å­—æ¯
                </label>
                <label>
                    <input type="checkbox" id="random-lowercase" checked> åŒ…å«å°å†™å­—æ¯
                </label>
                <label>
                    <input type="checkbox" id="random-digits" checked> åŒ…å«æ•°å­—
                </label>
                <label>
                    <input type="checkbox" id="random-special"> åŒ…å«ç‰¹æ®Šå­—ç¬¦
                </label>
            </div>
            <button class="btn" onclick="generateRandom()">ç”Ÿæˆ</button>
            <div class="result-box" id="random-result"></div>
        </div>

        <!-- äºŒç»´ç è§£ç  -->
        <div class="tool-panel" id="qr-decoder">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“± äºŒç»´ç è§£ç </h2>
            <div id="qr-decoder-premium-content">
                <div class="form-group">
                    <label for="qr-file-input">ä¸Šä¼ äºŒç»´ç å›¾ç‰‡ï¼š</label>
                    <input type="file" id="qr-file-input" accept="image/*">
                </div>
                <div class="result-box" id="qr-decoder-result"></div>
                <p style="font-size: 0.9em; color: #666; margin-top: 15px;">
                    æ³¨æ„ï¼šäºŒç»´ç è§£ç éœ€è¦æµè§ˆå™¨æ”¯æŒï¼Œéƒ¨åˆ†æµè§ˆå™¨å¯èƒ½æ— æ³•ä½¿ç”¨æ­¤åŠŸèƒ½
                </p>
            </div>
        </div>

        <!-- æ—¥æœŸè®¡ç®—å™¨ -->
        <div class="tool-panel" id="date-calculator">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ“… æ—¥æœŸè®¡ç®—å™¨</h2>
            <div class="form-group">
                <label>è®¡ç®—ç±»å‹ï¼š</label>
                <select id="date-calc-type">
                    <option value="diff">æ—¥æœŸå·®</option>
                    <option value="add">æ·»åŠ å¤©æ•°</option>
                    <option value="subtract">å‡å»å¤©æ•°</option>
                </select>
            </div>
            <div class="form-group">
                <label for="date1">æ—¥æœŸ 1ï¼š</label>
                <input type="date" id="date1">
            </div>
            <div class="form-group" id="date2-group">
                <label for="date2">æ—¥æœŸ 2ï¼š</label>
                <input type="date" id="date2">
            </div>
            <div class="form-group" id="days-group" style="display: none;">
                <label for="days-input">å¤©æ•°ï¼š</label>
                <input type="number" id="days-input" value="0">
            </div>
            <button class="btn" onclick="calculateDate()">è®¡ç®—</button>
            <div class="result-box" id="date-result"></div>
        </div>

        <!-- UUID ç”Ÿæˆå™¨ -->
        <div class="tool-panel" id="uuid-generator">
            <button class="btn btn-secondary back-btn" onclick="showToolsGrid()">â† è¿”å›</button>
            <h2>ğŸ†” UUID ç”Ÿæˆå™¨</h2>
            <div class="form-group">
                <label for="uuid-count">ç”Ÿæˆæ•°é‡ï¼š</label>
                <input type="number" id="uuid-count" value="1" min="1" max="100">
            </div>
            <div class="form-group">
                <label>UUID ç‰ˆæœ¬ï¼š</label>
                <select id="uuid-version">
                    <option value="v4">UUID v4ï¼ˆéšæœºï¼‰</option>
                    <option value="v1">UUID v1ï¼ˆåŸºäºæ—¶é—´ï¼‰</option>
                </select>
            </div>
            <button class="btn" onclick="generateUUID()">ç”Ÿæˆ</button>
            <div class="result-box" id="uuid-result"></div>
        </div>

        <!-- ä»˜è´¹æç¤ºå¼¹çª— -->
        <div class="premium-modal" id="premiumModal">
            <div class="premium-content">
                <button class="close-btn" onclick="closePremiumModal()">&times;</button>
                <h2>â­ å‡çº§åˆ°ä¸“ä¸šç‰ˆ</h2>
                <p>è§£é”æ‰€æœ‰é«˜çº§åŠŸèƒ½ï¼Œäº«å—æ›´å¥½çš„ä½¿ç”¨ä½“éªŒï¼</p>
                <p style="font-size: 0.9em; color: #999;">
                    ä¸“ä¸šç‰ˆåŠŸèƒ½ï¼š<br>
                    â€¢ äºŒç»´ç ç”Ÿæˆå™¨<br>
                    â€¢ é¢œè‰²é€‰æ‹©å™¨<br>
                    â€¢ å¯†ç ç”Ÿæˆå™¨<br>
                    â€¢ æ— å¹¿å‘Šä½“éªŒ<br>
                    â€¢ ä¼˜å…ˆæŠ€æœ¯æ”¯æŒ
                </p>
                <div style="margin-top: 30px;">
                    <button class="btn" onclick="showPaymentOptions()" style="margin-right: 10px;">ç«‹å³å‡çº§ Â¥29/æœˆ</button>
                    <button class="btn btn-secondary" onclick="closePremiumModal()">ç¨åå†è¯´</button>
                </div>
                <p style="margin-top: 20px; font-size: 0.85em; color: #999;">
                    æˆ– <a href="#" onclick="showDonate()" style="color: #667eea;">æ”¯æŒæˆ‘ä»¬</a>
                </p>
            </div>
        </div>

        <!-- æ”¯ä»˜é€‰æ‹©å¼¹çª— -->
        <div class="premium-modal" id="paymentModal">
            <div class="premium-content" style="max-width: 600px;">
                <button class="close-btn" onclick="closePaymentModal()">&times;</button>
                <h2>ğŸ’³ é€‰æ‹©æ”¯ä»˜æ–¹å¼</h2>
                <div id="payment-options" style="margin-top: 20px;">
                    <!-- æ”¯ä»˜é€‰é¡¹å°†åŠ¨æ€åŠ è½½ -->
                </div>
            </div>
        </div>

        <!-- æ”¯ä»˜äºŒç»´ç å¼¹çª— -->
        <div class="premium-modal" id="qrPaymentModal">
            <div class="premium-content" style="max-width: 400px;">
                <button class="close-btn" onclick="closeQRPaymentModal()">&times;</button>
                <h2>æ‰«ç æ”¯ä»˜</h2>
                <div id="qr-payment-content" style="text-align: center; margin: 20px 0;">
                    <!-- äºŒç»´ç å°†åŠ¨æ€åŠ è½½ -->
                </div>
                <p style="font-size: 0.9em; color: #666;">
                    è¯·ä½¿ç”¨æ‰‹æœºæ‰«æä¸Šæ–¹äºŒç»´ç å®Œæˆæ”¯ä»˜<br>
                    æ”¯ä»˜æˆåŠŸåï¼Œä¼šå‘˜æƒé™å°†è‡ªåŠ¨æ¿€æ´»
                </p>
                <button class="btn btn-secondary" onclick="checkPaymentStatus()" style="margin-top: 15px;">æˆ‘å·²æ”¯ä»˜</button>
            </div>
        </div>

        <!-- åº•éƒ¨å¹¿å‘Šä½ -->
        <div class="ad-container" id="ad-bottom">
            <!-- Google AdSense è‡ªåŠ¨å¹¿å‘Š -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="0987654321"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <!-- å¦‚æœAdSenseæœªé…ç½®ï¼Œæ˜¾ç¤ºå ä½ç¬¦ -->
            <div class="ad-placeholder" id="ad-placeholder-bottom" style="display: none;">
                <p>ğŸ“¢ å¹¿å‘Šä½æ‹›ç§Ÿ | è”ç³»ï¼šyour-email@example.com</p>
                <p style="font-size: 0.8em; margin-top: 5px;">æˆ–é›†æˆ Google AdSense</p>
            </div>
        </div>

        <!-- æèµ åŒºåŸŸ -->
        <div class="donate-section">
            <h3>ğŸ’ æ”¯æŒæˆ‘ä»¬</h3>
            <p>å¦‚æœè¿™ä¸ªå·¥å…·å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘æ”¯æŒæˆ‘ä»¬çš„å¼€å‘å·¥ä½œ</p>
            <div class="donate-buttons">
                <a href="#" class="donate-btn" onclick="donate('alipay')">æ”¯ä»˜å®æèµ </a>
                <a href="#" class="donate-btn" onclick="donate('wechat')">å¾®ä¿¡æèµ </a>
                <a href="#" class="donate-btn" onclick="donate('paypal')">PayPal</a>
            </div>
            <p style="margin-top: 20px; font-size: 0.9em; color: #666;">
                æ‚¨çš„æ”¯æŒå°†å¸®åŠ©æˆ‘ä»¬æŒç»­æ”¹è¿›å’Œæ·»åŠ æ–°åŠŸèƒ½
            </p>
        </div>
    </div>

    <script>
        // ä½¿ç”¨ç»Ÿè®¡
        let usageCount = parseInt(localStorage.getItem('usageCount') || '0');
        let userCount = parseInt(localStorage.getItem('userCount') || '0');
        const today = new Date().toDateString();
        const lastVisit = localStorage.getItem('lastVisit');

        if (lastVisit !== today) {
            userCount++;
            localStorage.setItem('userCount', userCount);
            localStorage.setItem('lastVisit', today);
        }

        document.getElementById('usage-count').textContent = usageCount;
        document.getElementById('user-count').textContent = userCount;

        // å·¥å…·å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.tool-card').forEach(card => {
            card.addEventListener('click', function(e) {
                // å¦‚æœç‚¹å‡»çš„æ˜¯æ”¶è—æŒ‰é’®ï¼Œä¸è§¦å‘å·¥å…·æ‰“å¼€
                if (e.target.classList.contains('favorite-btn')) {
                    return;
                }
                const tool = this.dataset.tool;
                if (this.classList.contains('premium')) {
                    const isPremium = checkPremiumStatus();
                    if (!isPremium) {
                        showPremiumModal();
                        return;
                    }
                }
                showTool(tool);
            });
        });

        // æœç´¢åŠŸèƒ½
        document.getElementById('searchBox').addEventListener('input', function() {
            filterTools();
        });

        // åˆ†ç±»æ ‡ç­¾ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                filterTools();
            });
        });

        // è¿‡æ»¤å·¥å…·
        function filterTools() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const activeCategory = document.querySelector('.category-tab.active').dataset.category;
            const cards = document.querySelectorAll('.tool-card');

            cards.forEach(card => {
                const tool = card.dataset.tool;
                const category = card.dataset.category;
                const title = card.querySelector('h3').textContent.toLowerCase();
                const desc = card.querySelector('p').textContent.toLowerCase();
                const tags = Array.from(card.querySelectorAll('.tool-tag')).map(t => t.textContent.toLowerCase()).join(' ');

                const matchesSearch = !searchTerm || title.includes(searchTerm) || desc.includes(searchTerm) || tags.includes(searchTerm);
                const matchesCategory = activeCategory === 'all' || category === activeCategory;

                if (matchesSearch && matchesCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // æ”¶è—åŠŸèƒ½
        function toggleFavorite(toolId, event) {
            event.stopPropagation();
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const index = favorites.indexOf(toolId);
            
            if (index > -1) {
                favorites.splice(index, 1);
                event.target.classList.remove('active');
                showToast('å·²å–æ¶ˆæ”¶è—');
            } else {
                favorites.push(toolId);
                event.target.classList.add('active');
                showToast('å·²æ·»åŠ åˆ°æ”¶è—');
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
        }

        // åŠ è½½æ”¶è—çŠ¶æ€
        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            favorites.forEach(toolId => {
                const btn = document.querySelector(`[data-tool="${toolId}"] .favorite-btn`);
                if (btn) btn.classList.add('active');
            });
        }

        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        function showToolsGrid() {
            document.getElementById('toolsGrid').style.display = 'grid';
            document.querySelectorAll('.tool-panel').forEach(panel => {
                panel.classList.remove('active');
            });
        }

        function showTool(toolId) {
            document.getElementById('toolsGrid').style.display = 'none';
            document.querySelectorAll('.tool-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.getElementById(toolId).classList.add('active');
            usageCount++;
            localStorage.setItem('usageCount', usageCount);
            document.getElementById('usage-count').textContent = usageCount;
        }

        // æ–‡æœ¬ç»Ÿè®¡
        function countText() {
            const text = document.getElementById('text-input').value;
            const result = {
                'æ€»å­—ç¬¦æ•°': text.length,
                'æ€»å­—èŠ‚æ•°': new Blob([text]).size,
                'å­—ç¬¦æ•°ï¼ˆä¸å«ç©ºæ ¼ï¼‰': text.replace(/\s/g, '').length,
                'å­—ç¬¦æ•°ï¼ˆå«ç©ºæ ¼ï¼‰': text.length,
                'å•è¯æ•°ï¼ˆè‹±æ–‡ï¼‰': text.trim() ? text.trim().split(/\s+/).length : 0,
                'æ®µè½æ•°': text.trim() ? text.split(/\n\s*\n/).length : 0,
                'è¡Œæ•°': text.split('\n').length
            };

            let html = '<strong>ç»Ÿè®¡ç»“æœï¼š</strong><br><br>';
            for (let key in result) {
                html += `${key}: <strong>${result[key]}</strong><br>`;
            }
            document.getElementById('text-result').innerHTML = html;
        }

        // Base64 ç¼–ç /è§£ç 
        function processBase64() {
            const input = document.getElementById('base64-input').value;
            const mode = document.getElementById('base64-mode').value;
            let result = '';

            try {
                if (mode === 'encode') {
                    result = btoa(unescape(encodeURIComponent(input)));
                } else {
                    result = decodeURIComponent(escape(atob(input)));
                }
                document.getElementById('base64-result').textContent = result;
            } catch (e) {
                document.getElementById('base64-result').textContent = 'é”™è¯¯ï¼š' + e.message;
            }
        }

        // URL ç¼–ç /è§£ç 
        function processURL() {
            const input = document.getElementById('url-input').value;
            const mode = document.getElementById('url-mode').value;
            let result = '';

            try {
                if (mode === 'encode') {
                    result = encodeURIComponent(input);
                } else {
                    result = decodeURIComponent(input);
                }
                document.getElementById('url-result').textContent = result;
            } catch (e) {
                document.getElementById('url-result').textContent = 'é”™è¯¯ï¼š' + e.message;
            }
        }

        // JSON æ ¼å¼åŒ–
        function formatJSON() {
            const input = document.getElementById('json-input').value;
            try {
                const obj = JSON.parse(input);
                const formatted = JSON.stringify(obj, null, 2);
                document.getElementById('json-result').innerHTML = '<pre style="margin:0; white-space: pre-wrap;">' + formatted + '</pre>';
            } catch (e) {
                document.getElementById('json-result').textContent = 'é”™è¯¯ï¼šæ— æ•ˆçš„ JSON æ ¼å¼ - ' + e.message;
            }
        }

        // äºŒç»´ç ç”Ÿæˆï¼ˆä½¿ç”¨åœ¨çº¿APIï¼‰
        function generateQR() {
            const text = document.getElementById('qr-input').value;
            const size = document.getElementById('qr-size').value;
            if (!text) {
                document.getElementById('qr-result').textContent = 'è¯·è¾“å…¥è¦ç”ŸæˆäºŒç»´ç çš„å†…å®¹';
                return;
            }
            // ä½¿ç”¨ qr-server.com API
            const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${size}x${size}&data=${encodeURIComponent(text)}`;
            document.getElementById('qr-result').innerHTML = `<img src="${qrUrl}" alt="QR Code" style="max-width: 100%;"><br><br><a href="${qrUrl}" download="qrcode.png" class="btn">ä¸‹è½½äºŒç»´ç </a>`;
        }

        // é¢œè‰²é€‰æ‹©å™¨
        document.getElementById('color-input').addEventListener('input', function() {
            const color = this.value;
            const rgb = hexToRgb(color);
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
            
            let html = `
                <strong>é¢œè‰²ä¿¡æ¯ï¼š</strong><br><br>
                HEX: <strong>${color}</strong><br>
                RGB: <strong>rgb(${rgb.r}, ${rgb.g}, ${rgb.b})</strong><br>
                HSL: <strong>hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)</strong><br>
                <div style="width: 100%; height: 60px; background: ${color}; margin-top: 15px; border-radius: 8px;"></div>
            `;
            document.getElementById('color-result').innerHTML = html;
        });

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        // æ—¶é—´æˆ³è½¬æ¢
        function convertTimestamp() {
            const input = document.getElementById('timestamp-input').value;
            const mode = document.getElementById('timestamp-mode').value;
            let result = '';

            try {
                if (mode === 'to-date') {
                    const timestamp = input ? parseInt(input) : Date.now();
                    const date = new Date(timestamp * 1000);
                    result = date.toLocaleString('zh-CN');
                } else {
                    const date = input ? new Date(input) : new Date();
                    result = Math.floor(date.getTime() / 1000).toString();
                }
                document.getElementById('timestamp-result').textContent = result;
            } catch (e) {
                document.getElementById('timestamp-result').textContent = 'é”™è¯¯ï¼š' + e.message;
            }
        }

        // å¯†ç ç”Ÿæˆå™¨
        function generatePassword() {
            const length = parseInt(document.getElementById('password-length').value);
            const includeUppercase = document.getElementById('include-uppercase').checked;
            const includeLowercase = document.getElementById('include-lowercase').checked;
            const includeNumbers = document.getElementById('include-numbers').checked;
            const includeSymbols = document.getElementById('include-symbols').checked;

            let chars = '';
            if (includeUppercase) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (includeLowercase) chars += 'abcdefghijklmnopqrstuvwxyz';
            if (includeNumbers) chars += '0123456789';
            if (includeSymbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';

            if (!chars) {
                document.getElementById('password-result').textContent = 'è¯·è‡³å°‘é€‰æ‹©ä¸€ç§å­—ç¬¦ç±»å‹';
                return;
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }

            document.getElementById('password-result').innerHTML = `
                <strong>ç”Ÿæˆçš„å¯†ç ï¼š</strong><br>
                <div style="font-size: 1.2em; font-family: monospace; margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">${password}</div>
                <button class="btn" onclick="copyToClipboard('${password}')">å¤åˆ¶å¯†ç </button>
            `;
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        // ä»˜è´¹åŠŸèƒ½ç›¸å…³
        function showPremiumModal() {
            document.getElementById('premiumModal').classList.add('active');
        }

        function closePremiumModal() {
            document.getElementById('premiumModal').classList.remove('active');
        }

        // ========== æ”¯ä»˜ç³»ç»Ÿé›†æˆ ==========
        
        // æ˜¾ç¤ºæ”¯ä»˜é€‰é¡¹
        function showPaymentOptions() {
            closePremiumModal();
            const paymentOptions = document.getElementById('payment-options');
            let html = '<div style="display: grid; gap: 15px;">';
            
            // æ”¯ä»˜å®æ”¯ä»˜
            if (PaymentConfig.alipay.enabled) {
                html += `
                    <button class="btn" onclick="initiatePayment('alipay')" style="background: #1677FF; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span>ğŸ’°</span> æ”¯ä»˜å®æ”¯ä»˜
                    </button>
                `;
            }
            
            // å¾®ä¿¡æ”¯ä»˜
            if (PaymentConfig.wechat.enabled) {
                html += `
                    <button class="btn" onclick="initiatePayment('wechat')" style="background: #07C160; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span>ğŸ’š</span> å¾®ä¿¡æ”¯ä»˜
                    </button>
                `;
            }
            
            // PayPalæ”¯ä»˜
            if (PaymentConfig.paypal.enabled) {
                html += `
                    <div id="paypal-button-container" style="margin-top: 10px;"></div>
                `;
            }
            
            html += '</div>';
            paymentOptions.innerHTML = html;
            document.getElementById('paymentModal').classList.add('active');
            
            // åˆå§‹åŒ–PayPalæŒ‰é’®
            if (PaymentConfig.paypal.enabled && typeof paypal !== 'undefined') {
                initPayPalButton();
            }
        }

        // å…³é—­æ”¯ä»˜å¼¹çª—
        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        // å‘èµ·æ”¯ä»˜
        function initiatePayment(method) {
            closePaymentModal();
            
            if (method === 'alipay' || method === 'wechat') {
                // æ˜¾ç¤ºäºŒç»´ç æ”¯ä»˜
                showQRPayment(method);
            }
        }

        // æ˜¾ç¤ºäºŒç»´ç æ”¯ä»˜
        function showQRPayment(method) {
            const qrContent = document.getElementById('qr-payment-content');
            const config = method === 'alipay' ? PaymentConfig.alipay : PaymentConfig.wechat;
            
            if (config.qrCode) {
                // æ–¹å¼1: ä½¿ç”¨æ”¶æ¬¾ç å›¾ç‰‡
                qrContent.innerHTML = `
                    <img src="${config.qrCode}" alt="${method === 'alipay' ? 'æ”¯ä»˜å®' : 'å¾®ä¿¡'}æ”¶æ¬¾ç " 
                         style="max-width: 100%; border: 2px solid #ddd; border-radius: 10px;">
                    <p style="margin-top: 15px; font-weight: bold; color: #333;">
                        ${method === 'alipay' ? 'æ”¯ä»˜å®' : 'å¾®ä¿¡'}æ‰«ç æ”¯ä»˜ Â¥${PaymentConfig.pricing.monthly}
                    </p>
                `;
            } else if (config.apiEndpoint) {
                // æ–¹å¼2: è°ƒç”¨åç«¯APIç”Ÿæˆæ”¯ä»˜äºŒç»´ç 
                createPaymentQR(method);
            } else {
                // æ–¹å¼3: ä½¿ç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜å¹³å°
                createThirdPartyPayment(method);
            }
            
            document.getElementById('qrPaymentModal').classList.add('active');
        }

        // å…³é—­äºŒç»´ç æ”¯ä»˜å¼¹çª—
        function closeQRPaymentModal() {
            document.getElementById('qrPaymentModal').classList.remove('active');
        }

        // åˆ›å»ºæ”¯ä»˜äºŒç»´ç ï¼ˆè°ƒç”¨åç«¯APIï¼‰
        async function createPaymentQR(method) {
            const qrContent = document.getElementById('qr-payment-content');
            qrContent.innerHTML = '<p>æ­£åœ¨ç”Ÿæˆæ”¯ä»˜äºŒç»´ç ...</p>';
            
            try {
                const config = method === 'alipay' ? PaymentConfig.alipay : PaymentConfig.wechat;
                const response = await fetch(config.apiEndpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        amount: PaymentConfig.pricing.monthly,
                        currency: PaymentConfig.pricing.currency,
                        product: 'ä¸“ä¸šç‰ˆä¼šå‘˜ï¼ˆæœˆä»˜ï¼‰',
                        returnUrl: PaymentConfig.callbacks.success
                    })
                });
                
                const data = await response.json();
                if (data.qrCode) {
                    qrContent.innerHTML = `
                        <img src="${data.qrCode}" alt="æ”¯ä»˜äºŒç»´ç " 
                             style="max-width: 100%; border: 2px solid #ddd; border-radius: 10px;">
                        <p style="margin-top: 15px; font-weight: bold; color: #333;">
                            ${method === 'alipay' ? 'æ”¯ä»˜å®' : 'å¾®ä¿¡'}æ‰«ç æ”¯ä»˜ Â¥${PaymentConfig.pricing.monthly}
                        </p>
                        <p style="font-size: 0.85em; color: #999; margin-top: 10px;">
                            è®¢å•å·: ${data.orderId}
                        </p>
                    `;
                    // ä¿å­˜è®¢å•å·ç”¨äºæŸ¥è¯¢æ”¯ä»˜çŠ¶æ€
                    sessionStorage.setItem('paymentOrderId', data.orderId);
                    sessionStorage.setItem('paymentMethod', method);
                } else {
                    throw new Error('æœªèƒ½ç”Ÿæˆæ”¯ä»˜äºŒç»´ç ');
                }
            } catch (error) {
                qrContent.innerHTML = `
                    <p style="color: red;">æ”¯ä»˜äºŒç»´ç ç”Ÿæˆå¤±è´¥</p>
                    <p style="font-size: 0.9em; color: #666;">${error.message}</p>
                    <p style="font-size: 0.85em; color: #999; margin-top: 10px;">
                        è¯·æ£€æŸ¥åç«¯APIé…ç½®æˆ–ä½¿ç”¨æ”¶æ¬¾ç æ–¹å¼
                    </p>
                `;
            }
        }

        // ä½¿ç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜å¹³å°
        async function createThirdPartyPayment(method) {
            const qrContent = document.getElementById('qr-payment-content');
            const config = method === 'alipay' ? PaymentConfig.alipay : PaymentConfig.wechat;
            
            if (config.thirdParty && config.thirdParty.enabled) {
                // è¿™é‡Œé›†æˆç¬¬ä¸‰æ–¹æ”¯ä»˜å¹³å°ï¼ˆå¦‚Ping++ã€BeeCloudç­‰ï¼‰
                qrContent.innerHTML = `
                    <p>æ­£åœ¨è·³è½¬åˆ°æ”¯ä»˜é¡µé¢...</p>
                    <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                        è¯·æ ¹æ®ç¬¬ä¸‰æ–¹å¹³å°çš„é›†æˆæ–‡æ¡£è¿›è¡Œé…ç½®
                    </p>
                `;
                // ç¤ºä¾‹ï¼šPing++ é›†æˆ
                // window.location.href = `https://your-backend.com/api/ping++/create?method=${method}&amount=${PaymentConfig.pricing.monthly}`;
            } else {
                qrContent.innerHTML = `
                    <p style="color: #999;">è¯·é…ç½®æ”¯ä»˜æ–¹å¼</p>
                    <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                        è¯·åœ¨ payment_config.js ä¸­é…ç½® ${method === 'alipay' ? 'æ”¯ä»˜å®' : 'å¾®ä¿¡'}æ”¯ä»˜
                    </p>
                `;
            }
        }

        // åˆå§‹åŒ–PayPalæŒ‰é’®
        function initPayPalButton() {
            if (typeof paypal === 'undefined') {
                console.warn('PayPal SDKæœªåŠ è½½');
                return;
            }
            
            paypal.Buttons({
                style: {
                    shape: 'rect',
                    color: 'blue',
                    layout: 'vertical',
                    label: 'paypal'
                },
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: (PaymentConfig.pricing.monthly / 7).toFixed(2) // è½¬æ¢ä¸ºç¾å…ƒï¼ˆç¤ºä¾‹æ±‡ç‡ï¼‰
                            },
                            description: 'ä¸“ä¸šç‰ˆä¼šå‘˜ï¼ˆæœˆä»˜ï¼‰'
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // æ”¯ä»˜æˆåŠŸ
                        activatePremium();
                        alert('æ”¯ä»˜æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼');
                        closePaymentModal();
                    });
                },
                onError: function(err) {
                    console.error('PayPalæ”¯ä»˜é”™è¯¯:', err);
                    alert('æ”¯ä»˜å¤±è´¥ï¼Œè¯·é‡è¯•');
                }
            }).render('#paypal-button-container');
        }

        // æ£€æŸ¥æ”¯ä»˜çŠ¶æ€ï¼ˆç”¨äºäºŒç»´ç æ”¯ä»˜ï¼‰
        async function checkPaymentStatus() {
            const orderId = sessionStorage.getItem('paymentOrderId');
            const method = sessionStorage.getItem('paymentMethod');
            
            if (!orderId) {
                alert('æœªæ‰¾åˆ°è®¢å•ä¿¡æ¯ï¼Œè¯·é‡æ–°å‘èµ·æ”¯ä»˜');
                return;
            }
            
            try {
                const config = method === 'alipay' ? PaymentConfig.alipay : PaymentConfig.wechat;
                const response = await fetch(`${config.apiEndpoint}/status?orderId=${orderId}`);
                const data = await response.json();
                
                if (data.status === 'paid') {
                    activatePremium();
                    alert('æ”¯ä»˜æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼');
                    closeQRPaymentModal();
                    sessionStorage.removeItem('paymentOrderId');
                    sessionStorage.removeItem('paymentMethod');
                } else {
                    alert('æ”¯ä»˜å°šæœªå®Œæˆï¼Œè¯·ç¨åå†è¯•');
                }
            } catch (error) {
                console.error('æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€å¤±è´¥:', error);
                alert('æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€å¤±è´¥ï¼Œè¯·ç¨åå†è¯•');
            }
        }

        // æ¿€æ´»é«˜çº§ä¼šå‘˜
        function activatePremium() {
            localStorage.setItem('isPremium', 'true');
            localStorage.setItem('premiumExpire', Date.now() + 30 * 24 * 60 * 60 * 1000); // 30å¤©åè¿‡æœŸ
            // åˆ·æ–°é¡µé¢ä»¥åº”ç”¨æ›´æ”¹
            location.reload();
        }

        // æ£€æŸ¥ä¼šå‘˜çŠ¶æ€
        function checkPremiumStatus() {
            const isPremium = localStorage.getItem('isPremium') === 'true';
            const expireTime = localStorage.getItem('premiumExpire');
            
            if (isPremium && expireTime) {
                if (Date.now() > parseInt(expireTime)) {
                    // ä¼šå‘˜å·²è¿‡æœŸ
                    localStorage.removeItem('isPremium');
                    localStorage.removeItem('premiumExpire');
                    return false;
                }
                return true;
            }
            return false;
        }

        function upgradeToPremium() {
            showPaymentOptions();
        }

        function showDonate() {
            closePremiumModal();
            document.querySelector('.donate-section').scrollIntoView({ behavior: 'smooth' });
        }

        function donate(method) {
            const config = method === 'alipay' ? PaymentConfig.alipay : 
                          method === 'wechat' ? PaymentConfig.wechat : 
                          PaymentConfig.paypal;
            
            if (method === 'alipay' || method === 'wechat') {
                if (config.qrCode) {
                    // æ˜¾ç¤ºæèµ äºŒç»´ç 
                    const qrContent = document.getElementById('qr-payment-content');
                    qrContent.innerHTML = `
                        <img src="${config.qrCode}" alt="${method === 'alipay' ? 'æ”¯ä»˜å®' : 'å¾®ä¿¡'}æ”¶æ¬¾ç " 
                             style="max-width: 100%; border: 2px solid #ddd; border-radius: 10px;">
                        <p style="margin-top: 15px; font-weight: bold; color: #333;">
                            æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼ğŸ™
                        </p>
                    `;
                    document.getElementById('qrPaymentModal').classList.add('active');
                } else {
                    alert(`è¯·é…ç½®${method === 'alipay' ? 'æ”¯ä»˜å®' : 'å¾®ä¿¡'}æ”¶æ¬¾ç `);
                }
            } else if (method === 'paypal') {
                // PayPalæèµ é“¾æ¥
                window.open('https://www.paypal.com/donate?hosted_button_id=YOUR_BUTTON_ID', '_blank');
            }
        }

        // åˆå§‹åŒ–é¢œè‰²é€‰æ‹©å™¨
        document.getElementById('color-input').dispatchEvent(new Event('input'));

        // ========== æ–°å·¥å…·åŠŸèƒ½å®ç° ==========

        // å“ˆå¸Œè®¡ç®—å™¨
        async function calculateHash() {
            const input = document.getElementById('hash-input').value;
            const algorithm = document.getElementById('hash-algorithm').value;
            
            if (!input) {
                document.getElementById('hash-result').textContent = 'è¯·è¾“å…¥è¦è®¡ç®—å“ˆå¸Œå€¼çš„å†…å®¹';
                return;
            }

            try {
                // ä½¿ç”¨ Web Crypto API
                const encoder = new TextEncoder();
                const data = encoder.encode(input);
                const hashBuffer = await crypto.subtle.digest(algorithm.toUpperCase(), data);
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                
                document.getElementById('hash-result').innerHTML = `
                    <strong>${algorithm.toUpperCase()} å“ˆå¸Œå€¼ï¼š</strong><br>
                    <div style="font-family: monospace; word-break: break-all; margin-top: 10px;">${hashHex}</div>
                    <button class="btn" onclick="copyToClipboard('${hashHex}')" style="margin-top: 10px;">å¤åˆ¶</button>
                `;
            } catch (e) {
                // å¦‚æœä¸æ”¯æŒ Web Crypto APIï¼Œä½¿ç”¨ç®€å•çš„ MD5ï¼ˆéœ€è¦å¼•å…¥åº“ï¼‰
                document.getElementById('hash-result').textContent = 'æµè§ˆå™¨ä¸æ”¯æŒæ­¤å“ˆå¸Œç®—æ³•ï¼Œè¯·ä½¿ç”¨å…¶ä»–å·¥å…·';
            }
        }

        // æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•
        function testRegex() {
            const pattern = document.getElementById('regex-pattern').value;
            const text = document.getElementById('regex-text').value;
            
            if (!pattern) {
                document.getElementById('regex-result').textContent = 'è¯·è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼';
                return;
            }

            try {
                // è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ”¯æŒ /pattern/flags æ ¼å¼ï¼‰
                let regex, flags = '';
                if (pattern.startsWith('/')) {
                    const parts = pattern.split('/');
                    regex = parts[1];
                    flags = parts[2] || '';
                } else {
                    regex = pattern;
                }

                const regexObj = new RegExp(regex, flags);
                const matches = text.match(regexObj);
                const globalMatches = text.match(new RegExp(regex, flags + 'g')) || [];
                
                let result = `<strong>åŒ¹é…ç»“æœï¼š</strong><br><br>`;
                if (matches) {
                    result += `æ‰¾åˆ° ${globalMatches.length} ä¸ªåŒ¹é…<br><br>`;
                    result += `<strong>ç¬¬ä¸€ä¸ªåŒ¹é…ï¼š</strong> "${matches[0]}"<br>`;
                    result += `<strong>ä½ç½®ï¼š</strong> ${text.indexOf(matches[0])}<br><br>`;
                    result += `<strong>æ‰€æœ‰åŒ¹é…ï¼š</strong><br>`;
                    globalMatches.forEach((match, i) => {
                        result += `${i + 1}. "${match}"<br>`;
                    });
                } else {
                    result += 'æœªæ‰¾åˆ°åŒ¹é…';
                }

                // é«˜äº®æ˜¾ç¤ºåŒ¹é…
                const highlighted = text.replace(new RegExp(regex, flags + 'g'), match => `<mark>${match}</mark>`);
                result += `<br><strong>é«˜äº®æ˜¾ç¤ºï¼š</strong><br><div style="margin-top: 10px;">${highlighted}</div>`;

                document.getElementById('regex-result').innerHTML = result;
            } catch (e) {
                document.getElementById('regex-result').textContent = 'é”™è¯¯ï¼š' + e.message;
            }
        }

        // HTML æ ¼å¼åŒ–
        function formatHTML() {
            const html = document.getElementById('html-input').value;
            if (!html) {
                document.getElementById('html-result').textContent = 'è¯·è¾“å…¥ HTML ä»£ç ';
                return;
            }

            try {
                // ç®€å•çš„ HTML æ ¼å¼åŒ–
                let formatted = html
                    .replace(/></g, '>\n<')
                    .replace(/^\s+/gm, '')
                    .split('\n')
                    .map(line => {
                        const indent = (line.match(/^</) ? 0 : 2);
                        return ' '.repeat(indent) + line;
                    })
                    .join('\n');

                document.getElementById('html-result').innerHTML = `
                    <pre class="code-block">${formatted}</pre>
                    <button class="btn" onclick="copyToClipboard(\`${formatted.replace(/`/g, '\\`')}\`)" style="margin-top: 10px;">å¤åˆ¶</button>
                `;
            } catch (e) {
                document.getElementById('html-result').textContent = 'æ ¼å¼åŒ–å¤±è´¥ï¼š' + e.message;
            }
        }

        // å•ä½è½¬æ¢å™¨
        const unitConversions = {
            length: {
                units: ['ç±³', 'åƒç±³', 'å˜ç±³', 'æ¯«ç±³', 'è‹±å¯¸', 'è‹±å°º', 'ç ', 'è‹±é‡Œ'],
                factors: [1, 1000, 0.01, 0.001, 0.0254, 0.3048, 0.9144, 1609.34]
            },
            weight: {
                units: ['å…‹', 'åƒå…‹', 'å¨', 'ç›å¸', 'ç£…', 'æ–¤'],
                factors: [1, 1000, 1000000, 28.35, 453.59, 500]
            },
            temperature: {
                units: ['æ‘„æ°åº¦', 'åæ°åº¦', 'å¼€å°”æ–‡'],
                factors: [1, 1, 1] // æ¸©åº¦è½¬æ¢éœ€è¦ç‰¹æ®Šå¤„ç†
            },
            area: {
                units: ['å¹³æ–¹ç±³', 'å¹³æ–¹åƒç±³', 'å…¬é¡·', 'å¹³æ–¹è‹±å°º', 'å¹³æ–¹è‹±é‡Œ', 'äº©'],
                factors: [1, 1000000, 10000, 0.0929, 2589988, 666.67]
            },
            volume: {
                units: ['å‡', 'æ¯«å‡', 'ç«‹æ–¹ç±³', 'åŠ ä»‘', 'å“è„±'],
                factors: [1, 0.001, 1000, 3.785, 0.473]
            }
        };

        function updateUnitOptions() {
            const type = document.getElementById('unit-type').value;
            const units = unitConversions[type].units;
            const fromSelect = document.getElementById('unit-from');
            const toSelect = document.getElementById('unit-to');

            fromSelect.innerHTML = units.map(u => `<option value="${u}">${u}</option>`).join('');
            toSelect.innerHTML = units.map(u => `<option value="${u}">${u}</option>`).join('');
        }

        document.getElementById('unit-type').addEventListener('change', updateUnitOptions);
        updateUnitOptions();

        function convertUnit() {
            const type = document.getElementById('unit-type').value;
            const value = parseFloat(document.getElementById('unit-from-value').value);
            const fromUnit = document.getElementById('unit-from').value;
            const toUnit = document.getElementById('unit-to').value;

            if (isNaN(value)) {
                document.getElementById('unit-result').textContent = 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å€¼';
                return;
            }

            let result;
            if (type === 'temperature') {
                // æ¸©åº¦è½¬æ¢
                const from = fromUnit;
                const to = toUnit;
                let celsius = value;

                if (from === 'åæ°åº¦') celsius = (value - 32) * 5 / 9;
                else if (from === 'å¼€å°”æ–‡') celsius = value - 273.15;

                if (to === 'åæ°åº¦') result = celsius * 9 / 5 + 32;
                else if (to === 'å¼€å°”æ–‡') result = celsius + 273.15;
                else result = celsius;
            } else {
                const units = unitConversions[type].units;
                const factors = unitConversions[type].factors;
                const fromIndex = units.indexOf(fromUnit);
                const toIndex = units.indexOf(toUnit);

                const baseValue = value * factors[fromIndex];
                result = baseValue / factors[toIndex];
            }

            document.getElementById('unit-to-value').value = result.toFixed(6);
            document.getElementById('unit-result').innerHTML = `
                <strong>è½¬æ¢ç»“æœï¼š</strong><br>
                ${value} ${fromUnit} = ${result.toFixed(6)} ${toUnit}
            `;
        }

        // IP åœ°å€æŸ¥è¯¢
        async function lookupIP() {
            const ip = document.getElementById('ip-input').value.trim();
            document.getElementById('ip-result').innerHTML = '<div class="loading"></div> æŸ¥è¯¢ä¸­...';

            try {
                const url = ip ? `https://ipapi.co/${ip}/json/` : 'https://ipapi.co/json/';
                const response = await fetch(url);
                const data = await response.json();

                if (data.error) {
                    throw new Error(data.reason);
                }

                let html = '<strong>IP åœ°å€ä¿¡æ¯ï¼š</strong><br><br>';
                html += `<strong>IP åœ°å€ï¼š</strong> ${data.ip || data.query}<br>`;
                html += `<strong>åŸå¸‚ï¼š</strong> ${data.city || 'æœªçŸ¥'}<br>`;
                html += `<strong>åœ°åŒºï¼š</strong> ${data.region || 'æœªçŸ¥'}<br>`;
                html += `<strong>å›½å®¶ï¼š</strong> ${data.country_name || 'æœªçŸ¥'} (${data.country_code || ''})<br>`;
                html += `<strong>é‚®æ”¿ç¼–ç ï¼š</strong> ${data.postal || 'æœªçŸ¥'}<br>`;
                html += `<strong>æ—¶åŒºï¼š</strong> ${data.timezone || 'æœªçŸ¥'}<br>`;
                html += `<strong>ISPï¼š</strong> ${data.org || 'æœªçŸ¥'}<br>`;

                document.getElementById('ip-result').innerHTML = html;
            } catch (e) {
                document.getElementById('ip-result').textContent = 'æŸ¥è¯¢å¤±è´¥ï¼š' + e.message;
            }
        }

        // æ–‡æœ¬å¯¹æ¯”
        function compareText() {
            const text1 = document.getElementById('diff-text1').value;
            const text2 = document.getElementById('diff-text2').value;

            if (!text1 || !text2) {
                document.getElementById('diff-result').textContent = 'è¯·è¾“å…¥ä¸¤æ®µæ–‡æœ¬';
                return;
            }

            let html = '<strong>å¯¹æ¯”ç»“æœï¼š</strong><br><br>';
            
            if (text1 === text2) {
                html += '<p style="color: green;">âœ“ ä¸¤æ®µæ–‡æœ¬å®Œå…¨ç›¸åŒ</p>';
            } else {
                html += '<p style="color: red;">âœ— ä¸¤æ®µæ–‡æœ¬ä¸åŒ</p><br>';
                html += `<strong>æ–‡æœ¬1é•¿åº¦ï¼š</strong> ${text1.length} å­—ç¬¦<br>`;
                html += `<strong>æ–‡æœ¬2é•¿åº¦ï¼š</strong> ${text2.length} å­—ç¬¦<br>`;
                html += `<strong>é•¿åº¦å·®ï¼š</strong> ${Math.abs(text1.length - text2.length)} å­—ç¬¦<br><br>`;

                // ç®€å•çš„å·®å¼‚æ˜¾ç¤º
                const lines1 = text1.split('\n');
                const lines2 = text2.split('\n');
                const maxLines = Math.max(lines1.length, lines2.length);
                
                html += '<strong>é€è¡Œå¯¹æ¯”ï¼š</strong><br>';
                for (let i = 0; i < maxLines; i++) {
                    const line1 = lines1[i] || '';
                    const line2 = lines2[i] || '';
                    if (line1 !== line2) {
                        html += `<div style="background: #ffe6e6; padding: 5px; margin: 5px 0; border-left: 3px solid red;">`;
                        html += `<strong>ç¬¬ ${i + 1} è¡Œï¼š</strong><br>`;
                        html += `æ–‡æœ¬1: "${line1}"<br>`;
                        html += `æ–‡æœ¬2: "${line2}"`;
                        html += `</div>`;
                    }
                }
            }

            document.getElementById('diff-result').innerHTML = html;
        }

        // éšæœºæ•°ç”Ÿæˆå™¨
        document.getElementById('random-type').addEventListener('change', function() {
            const type = this.value;
            document.getElementById('random-number-options').style.display = type === 'number' ? 'block' : 'none';
            document.getElementById('random-string-options').style.display = type === 'string' ? 'block' : 'none';
        });

        function generateRandom() {
            const type = document.getElementById('random-type').value;
            let result = '';

            if (type === 'number') {
                const min = parseInt(document.getElementById('random-min').value);
                const max = parseInt(document.getElementById('random-max').value);
                const count = parseInt(document.getElementById('random-count').value);
                const numbers = [];
                for (let i = 0; i < count; i++) {
                    numbers.push(Math.floor(Math.random() * (max - min + 1)) + min);
                }
                result = numbers.join(', ');
            } else if (type === 'string') {
                const length = parseInt(document.getElementById('random-length').value);
                const uppercase = document.getElementById('random-uppercase').checked;
                const lowercase = document.getElementById('random-lowercase').checked;
                const digits = document.getElementById('random-digits').checked;
                const special = document.getElementById('random-special').checked;

                let chars = '';
                if (uppercase) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                if (lowercase) chars += 'abcdefghijklmnopqrstuvwxyz';
                if (digits) chars += '0123456789';
                if (special) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';

                if (!chars) {
                    document.getElementById('random-result').textContent = 'è¯·è‡³å°‘é€‰æ‹©ä¸€ç§å­—ç¬¦ç±»å‹';
                    return;
                }

                for (let i = 0; i < length; i++) {
                    result += chars.charAt(Math.floor(Math.random() * chars.length));
                }
            } else if (type === 'uuid') {
                result = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            } else if (type === 'color') {
                result = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
            }

            document.getElementById('random-result').innerHTML = `
                <strong>ç”Ÿæˆç»“æœï¼š</strong><br>
                <div style="font-size: 1.2em; font-family: monospace; margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">${result}</div>
                ${type === 'color' ? `<div style="width: 100%; height: 60px; background: ${result}; border-radius: 8px; margin: 10px 0;"></div>` : ''}
                <button class="btn" onclick="copyToClipboard('${result}')">å¤åˆ¶</button>
            `;
        }

        // äºŒç»´ç è§£ç 
        document.getElementById('qr-file-input').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(event) {
                const img = new Image();
                img.onload = function() {
                    // è¿™é‡Œéœ€è¦ä½¿ç”¨äºŒç»´ç è§£ç åº“ï¼Œå¦‚ jsQR
                    // ç”±äºéœ€è¦å¼•å…¥å¤–éƒ¨åº“ï¼Œè¿™é‡Œåªæ˜¾ç¤ºå›¾ç‰‡
                    document.getElementById('qr-decoder-result').innerHTML = `
                        <p>å·²åŠ è½½å›¾ç‰‡ï¼Œè¯·ä½¿ç”¨ä¸“ä¸šçš„äºŒç»´ç è§£ç åº“ï¼ˆå¦‚ jsQRï¼‰æ¥å®ç°è§£ç åŠŸèƒ½</p>
                        <img src="${event.target.result}" style="max-width: 100%; border-radius: 8px;">
                        <p style="margin-top: 10px; color: #999;">æç¤ºï¼šå¯ä»¥åœ¨é¡¹ç›®ä¸­å¼•å…¥ jsQR åº“æ¥å®ç°äºŒç»´ç è§£ç </p>
                    `;
                };
                img.src = event.target.result;
            };
            reader.readAsDataURL(file);
        });

        // æ—¥æœŸè®¡ç®—å™¨
        document.getElementById('date-calc-type').addEventListener('change', function() {
            const type = this.value;
            document.getElementById('date2-group').style.display = type === 'diff' ? 'block' : 'none';
            document.getElementById('days-group').style.display = type !== 'diff' ? 'block' : 'none';
        });

        function calculateDate() {
            const type = document.getElementById('date-calc-type').value;
            const date1 = new Date(document.getElementById('date1').value);
            
            if (isNaN(date1.getTime())) {
                document.getElementById('date-result').textContent = 'è¯·é€‰æ‹©æœ‰æ•ˆæ—¥æœŸ';
                return;
            }

            let result = '';
            if (type === 'diff') {
                const date2 = new Date(document.getElementById('date2').value);
                if (isNaN(date2.getTime())) {
                    document.getElementById('date-result').textContent = 'è¯·é€‰æ‹©ç¬¬äºŒä¸ªæ—¥æœŸ';
                    return;
                }
                const diffTime = Math.abs(date2 - date1);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                result = `æ—¥æœŸå·®ï¼š${diffDays} å¤©`;
            } else {
                const days = parseInt(document.getElementById('days-input').value) || 0;
                const newDate = new Date(date1);
                if (type === 'add') {
                    newDate.setDate(newDate.getDate() + days);
                } else {
                    newDate.setDate(newDate.getDate() - days);
                }
                result = `ç»“æœæ—¥æœŸï¼š${newDate.toLocaleDateString('zh-CN')}`;
            }

            document.getElementById('date-result').innerHTML = `<strong>${result}</strong>`;
        }

        // UUID ç”Ÿæˆå™¨
        function generateUUID() {
            const count = parseInt(document.getElementById('uuid-count').value) || 1;
            const version = document.getElementById('uuid-version').value;
            const uuids = [];

            for (let i = 0; i < count; i++) {
                if (version === 'v4') {
                    uuids.push('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        const r = Math.random() * 16 | 0;
                        const v = c === 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    }));
                } else {
                    // UUID v1 ç®€åŒ–ç‰ˆï¼ˆåŸºäºæ—¶é—´ï¼‰
                    const now = Date.now();
                    const uuid = 'xxxxxxxx-xxxx-1xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                        const r = (now + Math.random() * 16) % 16 | 0;
                        const v = c === 'x' ? r : (r & 0x3 | 0x8);
                        return v.toString(16);
                    });
                    uuids.push(uuid);
                }
            }

            document.getElementById('uuid-result').innerHTML = `
                <strong>ç”Ÿæˆçš„ UUIDï¼š</strong><br>
                <div style="font-family: monospace; margin: 10px 0; padding: 10px; background: white; border-radius: 5px;">
                    ${uuids.join('<br>')}
                </div>
                <button class="btn" onclick="copyToClipboard('${uuids.join('\\n')}')">å¤åˆ¶å…¨éƒ¨</button>
            `;
        }

        // ========== å¹¿å‘Šç³»ç»Ÿé›†æˆ ==========
        
        // åˆå§‹åŒ–å¹¿å‘Š
        function initAds() {
            // æ£€æŸ¥æ˜¯å¦ä¸ºé«˜çº§ç”¨æˆ·ï¼ˆä¸æ˜¾ç¤ºå¹¿å‘Šï¼‰
            if (checkPremiumStatus() && !AdConfig.settings.showForPremiumUsers) {
                document.getElementById('ad-top').style.display = 'none';
                document.getElementById('ad-bottom').style.display = 'none';
                return;
            }
            
            // Google AdSense
            if (AdConfig.adsense.enabled && AdConfig.adsense.clientId !== 'ca-pub-XXXXXXXXXXXXXXXX') {
                // åŠ è½½AdSenseè„šæœ¬
                const script = document.createElement('script');
                script.src = `https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${AdConfig.adsense.clientId}`;
                script.async = true;
                script.crossOrigin = 'anonymous';
                document.head.appendChild(script);
                
                // åˆå§‹åŒ–å¹¿å‘Š
                script.onload = function() {
                    try {
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        // éšè—å ä½ç¬¦
                        document.getElementById('ad-placeholder-top').style.display = 'none';
                        document.getElementById('ad-placeholder-bottom').style.display = 'none';
                    } catch (e) {
                        console.error('AdSenseåˆå§‹åŒ–å¤±è´¥:', e);
                        showAdPlaceholders();
                    }
                };
            } else {
                // æ˜¾ç¤ºå ä½ç¬¦
                showAdPlaceholders();
            }
            
            // ç™¾åº¦è”ç›Ÿï¼ˆå¦‚æœå¯ç”¨ï¼‰
            if (AdConfig.baidu.enabled) {
                initBaiduAds();
            }
        }

        // æ˜¾ç¤ºå¹¿å‘Šå ä½ç¬¦
        function showAdPlaceholders() {
            document.getElementById('ad-placeholder-top').style.display = 'block';
            document.getElementById('ad-placeholder-bottom').style.display = 'block';
        }

        // åˆå§‹åŒ–ç™¾åº¦è”ç›Ÿå¹¿å‘Š
        function initBaiduAds() {
            // ç™¾åº¦è”ç›Ÿå¹¿å‘Šä»£ç 
            const baiduScript = document.createElement('script');
            baiduScript.src = `https://dup.baidustatic.com/js/ds.js`;
            document.head.appendChild(baiduScript);
            
            // æ·»åŠ ç™¾åº¦å¹¿å‘Šä½
            // æ ¹æ®ç™¾åº¦è”ç›Ÿæ–‡æ¡£æ·»åŠ å…·ä½“ä»£ç 
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', function() {
            // æ£€æŸ¥ä¼šå‘˜çŠ¶æ€
            const isPremium = checkPremiumStatus();
            if (isPremium) {
                // ç§»é™¤é«˜çº§åŠŸèƒ½é™åˆ¶
                document.querySelectorAll('.tool-card.premium').forEach(card => {
                    card.classList.remove('premium');
                    const badge = card.querySelector('.premium-badge');
                    if (badge) badge.remove();
                });
            }
            
            // åŠ è½½æ”¶è—çŠ¶æ€
            loadFavorites();
            
            // åˆå§‹åŒ–å¹¿å‘Š
            initAds();
            
            // åˆå§‹åŒ–æ—¥æœŸè®¡ç®—å™¨
            document.getElementById('date-calc-type').dispatchEvent(new Event('change'));
            
            // åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨
            document.getElementById('random-type').dispatchEvent(new Event('change'));
        });
    </script>

    <!-- Google AdSense è‡ªåŠ¨å¹¿å‘Šï¼ˆå¦‚æœå¯ç”¨ï¼‰ -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
     crossorigin="anonymous"></script>
</body>
</html>

